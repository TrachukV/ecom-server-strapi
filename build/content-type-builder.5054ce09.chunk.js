(self.webpackChunkecommerce_cloth=self.webpackChunkecommerce_cloth||[]).push([[8880],{66848:(W,w,s)=>{"use strict";s.d(w,{Z:()=>Ve});var t=s(67294),h=s(71893),N=s(45697),v=s.n(N),f=s(41580),B=s(85038),T=s(85893);function z(xe){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...xe,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,T.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"})]})}var S=s(34668),r=s(14484),b=s(65531),Y=s(73145),Te=s(82574),me=s(60133);function pe(xe){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...xe,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"})]})}var ae=s(74525);function le(xe){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...xe,children:[(0,T.jsx)("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,T.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"})]})}var ge=s(48394);function he(xe){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...xe,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,T.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"})]})}var u=s(21210),fe=s(3963),ye=s(31666),k=s(68547);const et={biginteger:ye.Z,boolean:r.Z,collectionType:z,component:B.Z,contentType:z,date:S.Z,datetime:S.Z,decimal:ye.Z,dynamiczone:b.Z,email:Y.Z,enum:Te.Z,enumeration:Te.Z,file:ae.Z,files:ae.Z,float:ye.Z,integer:ye.Z,json:me.Z,JSON:me.Z,media:ae.Z,number:ye.Z,password:le,relation:ge.Z,richtext:pe,singleType:he,string:u.Z,text:u.Z,time:S.Z,timestamp:S.Z,uid:fe.Z},tt=(0,h.default)(f.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ke=({type:xe,customField:q,...U})=>{const G=(0,k.useCustomFields)();let Oe=et[xe];if(q){const{icon:Ee}=G.get(q);Ee&&(Oe=Ee)}return et[xe]?t.createElement(tt,{height:(0,k.pxToRem)(24),width:(0,k.pxToRem)(32),shrink:0,...U,"aria-hidden":!0},t.createElement(f.x,{as:Oe})):null};Ke.defaultProps={customField:null},Ke.propTypes={type:v().string.isRequired,customField:v().string};const Ve=Ke},7955:(W,w,s)=>{"use strict";s.d(w,{Z:()=>N});var t=s(67294);const N=(0,t.createContext)()},98422:(W,w,s)=>{"use strict";s.d(w,{Z:()=>N});var t=s(67294);const N=(0,t.createContext)()},13588:(W,w,s)=>{"use strict";s.d(w,{Z:()=>v});var t=s(67294),h=s(7955);const v=()=>(0,t.useContext)(h.Z)},26478:(W,w,s)=>{"use strict";s.d(w,{Z:()=>v});var t=s(67294),h=s(98422);const v=()=>(0,t.useContext)(h.Z)},94179:(W,w,s)=>{"use strict";s.r(w),s.d(w,{default:()=>ro});var t=s(67294),h=s(49656),N=s(15482),v=s(97132),f=s(68547),B=s(17034),T=s(57176),z=s(96124),S=s(45697),r=s.n(S),b=s(96486),Y=s(37424),Te=s(35281),me=s(7955),pe=s(26478),ae=s(11817);const le=ae.Z.create({baseURL:`http://bugsmakersteam.pp.ua:1337/${z.Z}`});le.interceptors.request.use(async e=>(e.headers={Authorization:`Bearer ${f.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e),e=>{Promise.reject(e)}),le.interceptors.response.use(e=>e,e=>{throw e.response?.status===401&&(f.auth.clearAppStorage(),window.location.reload()),e});const he=(0,f.wrapAxiosInstance)(le);var u=s(5002),fe=s(85169),ye=s(27361),k=s.n(ye),et=s(18721),tt=s.n(et),Ke=s(36968),Ve=s.n(Ke),xe=s(7334),q=s.n(xe),U=s(41580),G=s(29728),Oe=s(70004),Ee=s(42866),it=s(59946),Yt=s(36856),ft=s(82777),nt=s(60633),je=s(42761),be=s(11047),Re=s(7681),He=s(13588),jt=s(38953),zt=s(11700),ze=s.n(zt);const Jt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],yt=({intlLabel:e,name:n,onChange:a,value:i})=>{const{formatMessage:o}=(0,v.useIntl)(),l=i===null||i.length===0?o({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>ze()(c)).join(", "),d=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):n;return t.createElement(jt.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?a({target:{name:n,value:c,type:"allowed-types-select"}}):a({target:{name:n,value:null,type:"allowed-types-select"}})},options:Jt,value:i||[]})};yt.defaultProps={value:null},yt.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const Qt=yt;var re=s(75515);const qe=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Ft=s(11276),ht=s(74571),Ae=s(17373),lt=s(66848),$e=s(71893);const De=(0,$e.default)(U.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,bt=({type:e})=>{const{formatMessage:n}=(0,v.useIntl)(),{onClickSelectField:a}=(0,pe.Z)(),i=()=>{a({attributeType:e,step:e==="component"?"1":null})};return t.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(be.k,null,t.createElement(lt.Z,{type:e}),t.createElement(U.x,{paddingLeft:4},t.createElement(be.k,null,t.createElement(re.Z,{fontWeight:"bold"},n({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(be.k,null,t.createElement(re.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};bt.defaultProps={type:"text"},bt.propTypes={type:r().string};const Je=bt,Ze=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}},dt=({attributes:e})=>t.createElement(Ae.k,{tagName:"button"},t.createElement(Re.K,{spacing:8},e.map((n,a)=>t.createElement(Ft.r,{key:a,gap:0},n.map((i,o)=>{const{paddingLeft:l,paddingRight:d}=Ze(o);return t.createElement(ht.P,{key:i,col:6,style:{height:"100%"}},t.createElement(U.x,{paddingLeft:l,paddingRight:d,paddingBottom:1,style:{height:"100%"}},t.createElement(Je,{type:i})))})))));dt.propTypes={attributes:r().array.isRequired};const ut=dt;var vt=s(23620),ct=s(36232),Bt=s.n(ct),mt=s(92577),Nt=s(78474),Fe=s(21817);const en=(0,$e.default)(Fe.G)`
  padding: ${({theme:e,size:n})=>`${n==="S"?e.spaces[2]:"10px"} ${e.spaces[4]}`};
  background: ${({theme:e})=>e.colors.buttonPrimary600};
  border: 1px solid ${({theme:e})=>e.colors.buttonPrimary600};
  border-radius: ${({theme:e})=>e.borderRadius};
  ${U.x} {
    display: flex;
    align-items: center;
  }
  ${re.Z} {
    color: ${({theme:e})=>e.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${mt.sg}
    &:active {
      ${mt.sg}
    }
  }
  &:hover {
    ${mt.yP}
  }
  &:active {
    ${mt.tB}
  }
  ${mt.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:e})=>e?"none":void 0};
`,Ct=t.forwardRef(({variant:e,startIcon:n,endIcon:a,disabled:i,children:o,size:l,href:d,to:c,...p},y)=>{const g=d?"_blank":void 0,m=d?"noreferrer noopener":void 0;return t.createElement(en,{ref:y,"aria-disabled":i,size:l,variant:e,target:g,rel:m,to:i?void 0:c,href:i?"#":d,...p,as:c&&!i?h.NavLink:"a"},n&&t.createElement(U.x,{"aria-hidden":!0,paddingRight:2},n),l==="S"?t.createElement(re.Z,{variant:"pi",fontWeight:"bold"},o):t.createElement(re.Z,{fontWeight:"bold"},o),a&&t.createElement(U.x,{"aria-hidden":!0,paddingLeft:2},a))});Ct.displayName="LinkButton",Ct.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},Ct.propTypes={children:S.node.isRequired,disabled:S.bool,endIcon:S.element,href(e){if(!e.disabled&&!e.to&&!e.href)return new Error("href must be defined")},onClick:S.func,size:S.oneOf(Nt.Gt),startIcon:S.element,to(e){if(!e.disabled&&!e.href&&!e.to)return new Error("to must be defined")},variant:S.oneOf(Nt.ZC)};var Tt=s(52624),Qe=s(96315),tn=s(86031);const nn=(0,$e.default)(U.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,_e=()=>t.createElement(be.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>t.createElement(nn,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0}))),kt=()=>{const{formatMessage:e}=(0,v.useIntl)();return t.createElement(U.x,{position:"relative"},t.createElement(_e,null),t.createElement(U.x,{position:"absolute",top:6,width:"100%"},t.createElement(be.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(Tt.J,{as:tn.default,color:"",width:"160px",height:"88px"}),t.createElement(U.x,{paddingTop:6,paddingBottom:4},t.createElement(U.x,{textAlign:"center"},t.createElement(re.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(U.x,{paddingTop:4},t.createElement(re.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(Ct,{to:`/marketplace?${Bt().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(Qe.default,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Et=({customFieldUid:e,customField:n})=>{const{type:a,intlLabel:i,intlDescription:o}=n,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:d}=(0,pe.Z)(),c=()=>{d({attributeType:a,customFieldUid:e})};return t.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},t.createElement(be.k,null,t.createElement(lt.Z,{type:a,customField:e}),t.createElement(U.x,{paddingLeft:4},t.createElement(be.k,null,t.createElement(re.Z,{fontWeight:"bold"},l(i))),t.createElement(be.k,null,t.createElement(re.Z,{variant:"pi",textColor:"neutral600"},l(o))))))};Et.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const Ge=Et,an=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=(0,f.useCustomFields)(),a=Object.entries(n.getAll());if(!a.length)return t.createElement(kt,null);const i=a.sort((o,l)=>o[1].name>l[1].name?1:-1);return t.createElement(Ae.k,{tagName:"button"},t.createElement(Re.K,{spacing:3},t.createElement(Ft.r,{gap:0},i.map(([o,l],d)=>{const{paddingLeft:c,paddingRight:p}=Ze(d);return t.createElement(ht.P,{key:o,col:6,style:{height:"100%"}},t.createElement(U.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(Ge,{key:o,customFieldUid:o,customField:l})))})),t.createElement(vt.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ut=({attributes:e,forTarget:n,kind:a})=>{const{formatMessage:i}=(0,v.useIntl)(),o=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),d=n.includes("component")?"component":a,c=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${d}`);return t.createElement(it.f,{padding:6},t.createElement(ft.v,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(be.k,{justifyContent:"space-between"},t.createElement(re.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),t.createElement(nt.m,null,t.createElement(nt.O,null,i({id:o,defaultMessage:"Default"})),t.createElement(nt.O,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(U.x,{paddingBottom:6},t.createElement(Oe.i,null)),t.createElement(je.n,null,t.createElement(je.x,null,t.createElement(ut,{attributes:e})),t.createElement(je.x,null,t.createElement(an,null)))))};Ut.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const rn=Ut;var sn=s(28702);const pt=({description:e,disabled:n,intlLabel:a,isCreating:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),[p,y]=(0,t.useState)(!1),g=a.id?c({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):o,m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=()=>y(j=>!j),x=()=>{l({target:{name:o,value:!1}}),R()},O=({target:{checked:j}})=>{if(!j&&!i){R();return}l({target:{name:o,value:j}})};return t.createElement(t.Fragment,null,t.createElement(sn.Checkbox,{checked:d,disabled:n,hint:m,name:o,onChange:O},g),t.createElement(f.ConfirmDialog,{isOpen:p,onToggleDialog:R,onConfirm:x,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};pt.defaultProps={description:null,disabled:!1,value:!1},pt.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const Q=pt;var de=s(2407),Be=s(24969);const Xe=({actionType:e,attributeName:n,attributeType:a,categoryName:i,contentTypeKind:o,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:p,customFieldUid:y})=>{const{formatMessage:g}=(0,v.useIntl)(),{modifiedData:m}=(0,He.Z)();let R,x=[];const O=m?.[d]?.[p]||m?.[d]||null;let j=O?.schema.displayName;if(c==="contentType"&&(R=o),["component","editCategory"].includes(c)&&(R="component"),["component","contentType"].includes(c)){let E=(0,u.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(E=(0,u.Z)(`modalForm.${o}.header-create`)),e==="edit"&&(E=(0,u.Z)("modalForm.header-edit")),t.createElement(Be.x,null,t.createElement(be.k,null,t.createElement(U.x,null,t.createElement(lt.Z,{type:R})),t.createElement(U.x,{paddingLeft:3},t.createElement(re.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:E},{name:j})))))}x=[{label:j,info:{category:O?.category||null,name:O?.schema.displayName}}],c==="chooseAttribute"&&(R=["component","components"].includes(d)?"component":O.schema.kind),c==="addComponentToDynamicZone"&&(R="dynamiczone",x.push({label:l})),(c==="attribute"||c==="customField")&&(R=a,x.push({label:n})),c==="editCategory"&&(x=[{label:g({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const Z=x.map(({label:E})=>E).join(",");return t.createElement(Be.x,null,t.createElement(Re.K,{horizontal:!0,spacing:3},t.createElement(lt.Z,{type:R,customField:y}),t.createElement(de.O,{label:Z},x.map((E,F)=>{const H=ze()(E.label);if(!H)return null;const ee=`${E.label}.${F}`;if(E.info?.category){const ue=`${H} (${ze()(E.info.category)} - ${ze()(E.info.name)})`;return t.createElement(de.$,{key:ee},ue)}return t.createElement(de.$,{key:ee},H)}))))};Xe.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Xe.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const _a=Xe,on=({categoryName:e,deleteCategory:n,deleteComponent:a,deleteContentType:i,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:g,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:R,isCreatingContentType:x,isCreatingDz:O,isComponentModal:j,isDzAttribute:V,isEditingAttribute:Z,isEditingCategory:E,isInFirstComponentStep:F,onSubmitAddComponentAttribute:H,onSubmitAddComponentToDz:ee,onSubmitCreateContentType:ue,onSubmitCreateComponent:A,onSubmitCreateDz:ne,onSubmitEditAttribute:te,onSubmitEditCategory:gt,onSubmitEditComponent:ie,onSubmitEditContentType:J,onSubmitEditCustomFieldAttribute:ce,onSubmitEditDz:Ot,onClickFinish:rt})=>{const{formatMessage:se}=(0,v.useIntl)();return c?m?t.createElement(G.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),ee(P,!0)},startIcon:t.createElement(Qe.default,null)},se({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(G.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),ee(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):o&&V&&!O?t.createElement(G.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),rt(),Ot(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):o&&V&&O?t.createElement(t.Fragment,null,t.createElement(G.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),ne(P,!0)},startIcon:t.createElement(Qe.default,null)},se({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):o&&d?F?t.createElement(G.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),H(P,!0)}},se(g?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(G.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),H(P,!0)},startIcon:t.createElement(Qe.default,null)},se(R?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(G.z,{variant:"default",type:"button",onClick:P=>{P.preventDefault(),rt(),H(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):o&&!d&&!V?t.createElement(t.Fragment,null,t.createElement(G.z,{type:Z?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),te(P,!0)},startIcon:t.createElement(Qe.default,null)},se({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(G.z,{type:Z?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),rt(),te(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!x&&t.createElement(t.Fragment,null,t.createElement(G.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),i()}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(G.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),J(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),x&&t.createElement(G.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ue(P,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):j?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(G.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),a()}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(G.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ie(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(G.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),A(P,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):E?t.createElement(t.Fragment,null,t.createElement(G.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),n(e)}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(G.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),gt(P)}},se({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(G.z,{type:Z?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ce(P,!0)},startIcon:t.createElement(Qe.default,null)},se({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(G.z,{type:Z?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),rt(),ce(P,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):null};on.defaultProps={categoryName:null,onClickFinish(){}},on.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const er=on,tr=({modalType:e,forTarget:n,kind:a,actionType:i,step:o})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":a||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${o!=="null"&&o!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},ln=({actionType:e,modalType:n,forTarget:a,kind:i,step:o,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:p}=(0,v.useIntl)(),y=n==="customField"?c.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(Re.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(re.Z,{as:"h2",variant:"beta"},p({id:tr({actionType:e,forTarget:a,kind:i,step:o,modalType:n}),defaultMessage:"Add new field"},{type:ze()(p(y)),name:ze()(d),step:o})),t.createElement(re.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};ln.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},ln.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const nr=ln;var wt=s(91216),qt=s(82562);const dn=({intlLabel:e,name:n,options:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,c=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:n,value:y,type:"select-default-boolean"}})};return t.createElement(wt.P,{label:d,id:n,name:n,onChange:c,value:(o===null?"":o).toString()},a.map(({metadatas:{intlLabel:p,disabled:y,hidden:g},key:m,value:R})=>t.createElement(qt.W,{key:m,value:R,disabled:y,hidden:g},p.defaultMessage)))};dn.defaultProps={value:null},dn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const ar=dn;var rr=s(15585);const sr=(0,$e.default)(Re.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,rr.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${re.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,un=({intlLabel:e,name:n,onChange:a,radios:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)();return t.createElement(Re.K,{spacing:2},t.createElement(re.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},l(e)),t.createElement(sr,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(d=>t.createElement("label",{htmlFor:d.value.toString(),key:d.value,className:"container"},t.createElement("input",{id:d.value.toString(),name:n,className:"option-input",checked:d.value===o,value:d.value,key:d.value,onChange:a,type:"radio"}),t.createElement(U.x,{className:"option",padding:4},t.createElement(be.k,null,t.createElement(U.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(Re.K,{spacing:2},t.createElement(re.Z,{fontWeight:"bold"},l(d.title)),t.createElement(re.Z,{variant:"pi",textColor:"neutral600"},l(d.description)))))))))};un.defaultProps={radios:[]},un.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const cn=un,ea=({onChange:e,name:n,...a})=>{const i=o=>{const l=o.target.value!=="false";e({target:{name:n,value:l,type:"boolean-radio-group"}})};return t.createElement(cn,{...a,name:n,onChange:i})};ea.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const or=ea;var ir=s(36213),mn=s(41363),lr=s(25108);let pn=new Map,gn=!1;try{gn=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Wt=!1;try{Wt=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ta={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class dr{format(n){let a="";if(!gn&&this.options.signDisplay!=null?a=cr(this.numberFormatter,this.options.signDisplay,n):a=this.numberFormatter.format(n),this.options.style==="unit"&&!Wt){var i;let{unit:o,unitDisplay:l="short",locale:d}=this.resolvedOptions(),c=(i=ta[o])===null||i===void 0?void 0:i[l];a+=c[d]||c.default}return a}formatToParts(n){return this.numberFormatter.formatToParts(n)}formatRange(n,a){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(n,a);if(a<n)throw new RangeError("End date must be >= start date");return`${this.format(n)} \u2013 ${this.format(a)}`}formatRangeToParts(n,a){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(n,a);if(a<n)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(n),o=this.numberFormatter.formatToParts(a);return[...i.map(l=>({...l,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...o.map(l=>({...l,source:"endRange"}))]}resolvedOptions(){let n=this.numberFormatter.resolvedOptions();return!gn&&this.options.signDisplay!=null&&(n={...n,signDisplay:this.options.signDisplay}),!Wt&&this.options.style==="unit"&&(n={...n,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),n}constructor(n,a={}){this.numberFormatter=ur(n,a),this.options=a}}function ur(e,n={}){let{numberingSystem:a}=n;if(a&&e.indexOf("-u-nu-")===-1&&(e=`${e}-u-nu-${a}`),n.style==="unit"&&!Wt){var i;let{unit:d,unitDisplay:c="short"}=n;if(!d)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=ta[d])===null||i===void 0)&&i[c]))throw new Error(`Unsupported unit ${d} with unitDisplay = ${c}`);n={...n,style:"decimal"}}let o=e+(n?Object.entries(n).sort((d,c)=>d[0]<c[0]?-1:1).join():"");if(pn.has(o))return pn.get(o);let l=new Intl.NumberFormat(e,n);return pn.set(o,l),l}function cr(e,n,a){if(n==="auto")return e.format(a);if(n==="never")return e.format(Math.abs(a));{let i=!1;if(n==="always"?i=a>0||Object.is(a,0):n==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let o=e.format(-a),l=e.format(a),d=o.replace(l,"").replace(/\u200e|\u061C/,"");return[...d].length!==1&&lr.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(l,"!!!").replace(d,"+").replace("!!!",l)}else return e.format(a)}}const mr=new RegExp("^.*\\(.*\\).*$"),pr=["latn","arab","hanidec"];class gr{parse(n){return fn(this.locale,this.options,n).parse(n)}isValidPartialNumber(n,a,i){return fn(this.locale,this.options,n).isValidPartialNumber(n,a,i)}getNumberingSystem(n){return fn(this.locale,this.options,n).options.numberingSystem}constructor(n,a={}){this.locale=n,this.options=a}}const na=new Map;function fn(e,n,a){let i=aa(e,n);if(!e.includes("-nu-")&&!i.isValidPartialNumber(a)){for(let o of pr)if(o!==i.options.numberingSystem){let l=aa(e+(e.includes("-u-")?"-nu-":"-u-nu-")+o,n);if(l.isValidPartialNumber(a))return l}}return i}function aa(e,n){let a=e+(n?Object.entries(n).sort((o,l)=>o[0]<l[0]?-1:1).join():""),i=na.get(a);return i||(i=new fr(e,n),na.set(a,i)),i}class fr{parse(n){let a=this.sanitize(n);a=Kt(a,this.symbols.group,"").replace(this.symbols.decimal,".").replace(this.symbols.minusSign,"-").replace(this.symbols.numeral,this.symbols.index);let i=a?+a:NaN;if(isNaN(i))return NaN;if(this.options.currencySign==="accounting"&&mr.test(n)&&(i=-1*i),this.options.style==="percent"){i/=100;var o;i=+i.toFixed(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2)}return i}sanitize(n){return n=n.replace(this.symbols.literals,""),n=n.replace("-",this.symbols.minusSign),this.options.numberingSystem==="arab"&&(n=n.replace(",",this.symbols.decimal),n=n.replace(String.fromCharCode(1548),this.symbols.decimal),n=Kt(n,".",this.symbols.group)),this.options.locale==="fr-FR"&&(n=Kt(n,".",String.fromCharCode(8239))),n}isValidPartialNumber(n,a=-1/0,i=1/0){return n=this.sanitize(n),n.startsWith(this.symbols.minusSign)&&a<0?n=n.slice(this.symbols.minusSign.length):this.symbols.plusSign&&n.startsWith(this.symbols.plusSign)&&i>0&&(n=n.slice(this.symbols.plusSign.length)),n.startsWith(this.symbols.group)?!1:(n=Kt(n,this.symbols.group,"").replace(this.symbols.numeral,"").replace(this.symbols.decimal,""),n.length===0)}constructor(n,a={}){this.formatter=new Intl.NumberFormat(n,a),this.options=this.formatter.resolvedOptions(),this.symbols=yr(this.formatter,this.options,a)}}const ra=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function yr(e,n,a){var i,o,l,d;let c=e.formatToParts(-10000.111),p=e.formatToParts(10000.111),y=e.formatToParts(1);var g;let m=(g=(i=c.find(A=>A.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&g!==void 0?g:"-",R=(o=p.find(A=>A.type==="plusSign"))===null||o===void 0?void 0:o.value;!R&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(R="+");let x=(l=c.find(A=>A.type==="decimal"))===null||l===void 0?void 0:l.value,O=(d=c.find(A=>A.type==="group"))===null||d===void 0?void 0:d.value,j=c.filter(A=>!ra.has(A.type)).map(A=>sa(A.value)),V=y.filter(A=>!ra.has(A.type)).map(A=>sa(A.value)),Z=[...new Set([...V,...j])].sort((A,ne)=>ne.length-A.length),E=Z.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${Z.join("|")}|[\\p{White_Space}]`,"gu"),F=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),H=new Map(F.map((A,ne)=>[A,ne])),ee=new RegExp(`[${F.join("")}]`,"g");return{minusSign:m,plusSign:R,decimal:x,group:O,literals:E,numeral:ee,index:A=>String(H.get(A))}}function Kt(e,n,a){return e.replaceAll?e.replaceAll(n,a):e.split(n).join(a)}function sa(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var hr=s(54574),br=s(64777),vr=s(45377),Cr=s(63428),Tr=s(96404),Er=s(75228),oa=s(14085),ia=s(7801);const la="en-EN",Mr=()=>typeof navigator>"u"?la:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:la;var da=s(98402);function xr({prop:e,defaultProp:n,onChange:a=()=>{}}){const[i,o]=Rr({defaultProp:n,onChange:a}),l=e!==void 0,d=typeof e=="function"?e(i):e,c=l?d:i,p=(0,da.useCallbackRef)(a),y=t.useCallback(g=>{if(l){const m=typeof g=="function"?g(d):g;m!==d&&(p(m),o(g))}else o(g)},[l,d,o,p]);return[c,y]}function Rr({defaultProp:e,onChange:n}){const a=t.useState(e),[i]=a,o=t.useRef(i),l=(0,da.useCallbackRef)(n);return t.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),a}const ua=$e.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,Ar="",Vt=t.forwardRef(({size:e,startAction:n,name:a,hint:i,error:o,label:l,labelAction:d,locale:c,id:p,onValueChange:y,value:g,step:m,required:R,disabled:x,...O},j)=>{const V=(0,oa.M)(p),Z=c||Mr(),E=(0,t.useRef)(new gr(Z,{style:"decimal"})),F=(0,t.useRef)(new dr(Z,{maximumFractionDigits:20})),[H,ee]=xr({prop(J){const ce=String(g);return isNaN(ce)||ce!==J&&J!==""?J:ce},defaultProp:Ar,onChange(J){const ce=E.current.parse(J);y(isNaN(ce)?void 0:ce)}}),ue=J=>{ee(String(J))},A=({target:{value:J}})=>{E.current.isValidPartialNumber(J)&&ue(J)},ne=()=>{if(!H){ue(m);return}const J=E.current.parse(H),ce=isNaN(J)?m:J+m;ue(F.current.format(ce))},te=()=>{if(!H){ue(-m);return}const J=E.current.parse(H),ce=isNaN(J)?-m:J-m;ue(F.current.format(ce))},gt=J=>{if(!x)switch(J.key){case ia.y.DOWN:{J.preventDefault(),te();break}case ia.y.UP:{J.preventDefault(),ne();break}}},ie=()=>{if(H){const J=E.current.parse(H),ce=isNaN(J)?"":F.current.format(J);ue(ce)}};return t.createElement(hr.g,{name:a,hint:i,error:o,id:V,required:R},t.createElement(Re.K,{spacing:1},l&&t.createElement(br.Q,{action:d},l),t.createElement(vr._,{ref:j,startAction:n,disabled:x,type:"text",inputmode:"decimal",onChange:A,onKeyDown:gt,onBlur:ie,value:H,size:e,endAction:t.createElement(t.Fragment,null,t.createElement(ua,{disabled:x,"aria-hidden":!0,reverse:!0,onClick:ne,tabIndex:-1,type:"button","data-testid":"ArrowUp"},t.createElement(Tt.J,{as:mn.CarretDown,color:"neutral500"})),t.createElement(ua,{disabled:x,"aria-hidden":!0,onClick:te,tabIndex:-1,type:"button","data-testid":"ArrowDown"},t.createElement(Tt.J,{as:mn.CarretDown,color:"neutral500"}))),...O}),t.createElement(Cr.J,null),t.createElement(Tr.c,null)))});Vt.displayName="NumberInput",Vt.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},Vt.propTypes={"aria-label":S.string,disabled:S.bool,error:S.string,hint:S.oneOfType([S.string,S.node,S.arrayOf(S.node)]),id:S.string,label:S.string,labelAction:S.element,locale:S.string,name:S.string.isRequired,onValueChange:S.func.isRequired,required:S.bool,size:S.oneOf(Object.keys(Er.J.input)),startAction:S.element,step:S.number,value:S.number};var yn=s(16364);const hn=({error:e,intlLabel:n,modifiedData:a,name:i,onChange:o,value:l})=>{const{formatMessage:d}=(0,v.useIntl)(),[c,p]=(0,t.useState)(!!l||l===0),y=n.id?d({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,g=a.type==="biginteger"?"text":"number",m=!a.type,R=e?d({id:e,defaultMessage:e}):"";return t.createElement(Re.K,{spacing:2},t.createElement(ir.X,{id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x?g==="text"?"0":0:null}}),p(V=>!V)},value:c},y),c&&t.createElement(U.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?t.createElement(yn.o,{"aria-label":y,disabled:m,error:R,id:i,name:i,onChange:o,value:l===null?"":l}):t.createElement(Vt,{"aria-label":y,disabled:m,error:R,id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x,type:g}})},value:l||0})))};hn.defaultProps={error:null,value:null},hn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const Zr=hn,ca=({onChange:e,...n})=>{const a=(0,f.useNotification)(),i=o=>{a({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return t.createElement(cn,{...n,onChange:i})};ca.propTypes={onChange:r().func.isRequired};const Sr=ca;var bn=s(1734),ma=s(17205),ve=s(59015);const vn=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:a,sortedContentTypesList:i}=(0,He.Z)(),o=(0,Y.useDispatch)(),l=i.filter(qe),d=k()(a,[n,"plugin"],null),c=k()(a,[n,"schema","displayName"],"error");return t.createElement(ma.O,{id:"label",label:`${c}
    ${d?`(from: ${d})`:""}`},l.map(({uid:p,title:y,restrictRelationsTo:g,plugin:m})=>{const R=()=>{const x=m?`${m}_${y}`:y;o({type:ve.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:g}})};return t.createElement(ma.s,{key:p,onClick:R},y,"\xA0",m&&t.createElement(t.Fragment,null,"(from: ",m,")"))}))};vn.defaultProps={target:null},vn.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const Fr=vn,Cn=({disabled:e,error:n,header:a,isMain:i,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:p})=>t.createElement(U.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(be.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(re.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},a):t.createElement(Fr,{target:c,oneThatIsCreatingARelationWithAnother:d})),t.createElement(Oe.i,{background:"neutral200"}),t.createElement(U.x,{padding:4},t.createElement(f.GenericInput,{disabled:e,error:n?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:p})));Cn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Cn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const pa=Cn;var Nr=s(39138),ga=s.n(Nr),Lr=s(23450),Tn=s.n(Lr),oe=s(85893);function Pr(e){return(0,oe.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"})]})}function Or(e){return(0,oe.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"})})}function $r(e){return(0,oe.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"})]})}function Dr(e){return(0,oe.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,oe.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"})]})}function Ir(e){return(0,oe.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,oe.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"})]})}function jr(e){return(0,oe.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,oe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),(0,oe.jsx)("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"})]})}const zr=(0,$e.default)(U.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Br=(0,$e.default)(U.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,kr=(0,$e.default)(be.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ur={oneWay:Or,oneToOne:Pr,oneToMany:Dr,manyToOne:Ir,manyToMany:jr,manyWay:$r},En=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:a,target:i})=>{const o=(0,Y.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:d,modifiedData:c}=(0,He.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],m=(e==="contentType"?k()(c,[e,"schema","kind"],""):e)==="collectionType"?p:y,R=a==="manyToOne",x=k()(d,[i,"schema","displayName"],"unknown"),O=R?x:n,j=R?n:x,V=Tn()(O,a==="manyToMany"?2:1),Z=k()(d,[i,"schema","restrictRelationsTo"],null),E=Tn()(j,["manyToMany","oneToMany","manyToOne","manyWay"].includes(a)?2:1);return a?t.createElement(be.k,{style:{flex:1}},t.createElement(zr,null,t.createElement(be.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(Ae.k,{tagName:"button"},t.createElement(Re.K,{spacing:3,horizontal:!0},m.map(F=>{const H=Ur[F],ee=Z===null||Z.includes(F);return t.createElement(Br,{as:"button",isSelected:a===F,disabled:!ee,key:F,onClick:()=>{ee&&o({type:ve.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:i,value:F}})},padding:2,type:"button"},t.createElement(H,{key:F}))}))))),t.createElement(kr,{justifyContent:"center"},t.createElement(re.Z,null,ga()(V,{length:24}),"\xA0"),t.createElement(re.Z,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${a}`)}),"\xA0"),t.createElement(re.Z,null,ga()(E,{length:24})))):null};En.defaultProps={relationType:null,target:null},En.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const wr=En,fa=({formErrors:e,mainBoxHeader:n,modifiedData:a,naturePickerType:i,onChange:o})=>{const l=(0,bn.Z)(a.relation,a.targetAttribute);return t.createElement(be.k,{style:{position:"relative"}},t.createElement(pa,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:o,value:a?.name||""}),t.createElement(wr,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:n,relationType:l,target:a.target}),t.createElement(pa,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:n,target:a.target,value:a?.targetAttribute||""}))};fa.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const qr=fa;var ya=s(97406);const Mn=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{if(y){const x=(0,ya.Z)(y);try{const O=Tn()(x,2);p.current({target:{name:o,value:O}})}catch{p.current({target:{name:o,value:x}})}}else p.current({target:{name:o,value:""}})},[y,o]);const g=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=c(a);return t.createElement(yn.o,{error:g,label:R,id:o,hint:m,name:o,onChange:l,value:d||""})};Mn.defaultProps={description:null,error:null,value:null},Mn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Wr=Mn;var Kr=s(38855),Vr=s(90608);const xn=({error:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:d}=(0,He.Z)(),[c,p]=(0,t.useState)(d),y=e?l({id:e,defaultMessage:e}):"",g=l(n),m=x=>{i({target:{name:a,value:x,type:"select-category"}})},R=x=>{p(O=>[...O,x]),m(x)};return t.createElement(Kr.X,{error:y,id:a,label:g,name:a,onChange:m,onCreateOption:R,value:o},c.map(x=>t.createElement(Vr.O,{key:x,value:x},x)))};xn.defaultProps={error:null,value:null},xn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Hr=xn,Rn=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:a,isCreating:i,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:d,onChange:c,targetUid:p,forTarget:y,value:g})=>{const{formatMessage:m}=(0,v.useIntl)(),R=e?m({id:e,defaultMessage:e}):"",x=m(n),{componentsGroupedByCategory:O,componentsThatHaveOtherComponentInTheirAttributes:j}=(0,He.Z)(),V=["component","components"].includes(y);let Z=Object.entries(O).reduce((E,F)=>{const[H,ee]=F,ue=ee.map(A=>({uid:A.uid,label:A.schema.displayName,categoryName:H}));return[...E,...ue]},[]);return a&&(Z=Z.filter(E=>!j.includes(E.uid))),V&&(Z=Z.filter(E=>E.uid!==p)),o&&(Z=[{uid:g,label:l.displayName,categoryName:l.category}]),t.createElement(wt.P,{disabled:o||!i,error:R,label:x,id:d,name:d,onChange:E=>{c({target:{name:d,value:E,type:"select-category"}})},value:g||""},Z.map(E=>t.createElement(qt.W,{key:E.uid,value:E.uid},`${E.categoryName} - ${E.label}`)))};Rn.defaultProps={componentToCreate:null,error:null},Rn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const Gr=Rn,An=(e,n)=>e.find(({name:a})=>a===n),ha=({dynamicZoneTarget:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:d,modifiedData:c}=(0,He.Z)(),y=(An(c.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(d).reduce((x,O)=>{const j=d[O].filter(({uid:V})=>!y.includes(V));return j.length>0&&(x[O]=j),x},{}),m=Object.entries(g).reduce((x,O)=>{const[j,V]=O,Z={label:j,children:V.map(({uid:E,schema:{displayName:F}})=>({label:F,value:E}))};return x.push(Z),x},[]),R=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o.length});return t.createElement(jt.Q,{id:"select1",label:l(n),customizeContent:()=>R,name:a,onChange:x=>{i({target:{name:a,value:x,type:"select-components"}})},options:m,value:o||[]})};ha.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const Xr=ha,Zn=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=n?c({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:i,value:m,type:"select"}}),d&&a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}})};return t.createElement(wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:O,value:j})=>t.createElement(qt.W,{key:O,value:j,disabled:R,hidden:x},c({id:m.id,defaultMessage:m.defaultMessage},m.values))))};Zn.defaultProps={error:void 0,value:""},Zn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Yr=Zn,Sn=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=n?c({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:i,value:m,type:"select"}}),d&&(m==="biginteger"&&d!=="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&d==="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})))};return t.createElement(wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:O,value:j})=>t.createElement(qt.W,{key:O,value:j,disabled:R,hidden:x},c(m))))};Sn.defaultProps={error:void 0,value:""},Sn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Jr=Sn,Fn=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{y?p.current({target:{name:o,value:(0,ya.Z)(y)}}):p.current({target:{name:o,value:""}})},[y,o]);const g=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=c(a);return t.createElement(yn.o,{error:g,label:R,id:o,hint:m,name:o,onChange:l,value:d||""})};Fn.defaultProps={description:null,error:null,value:null},Fn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Qr=Fn,ba=({form:e,formErrors:n,genericInputProps:a,modifiedData:i,onChange:o})=>{const{formatMessage:l}=(0,v.useIntl)();return e.map((d,c)=>d.items.length===0?null:t.createElement(U.x,{key:c},d.sectionTitle&&t.createElement(U.x,{paddingBottom:4},t.createElement(re.Z,{variant:"delta",as:"h3"},l(d.sectionTitle))),t.createElement(Ft.r,{gap:4},d.items.map((p,y)=>{const g=`${c}.${y}`,m=k()(i,p.name,""),R=Object.keys(n).find(O=>O===p.name),x=R?n[R].id:k()(n,[...p.name.split(".").filter(O=>O!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(ht.P,{col:p.size||6,key:p.name||g},t.createElement("div",null)):t.createElement(ht.P,{col:p.size||6,key:p.name||g},t.createElement(f.GenericInput,{...p,...a,error:x,onChange:o,value:m}))}))))};ba.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const va=ba;var _r=s(64256);const Nn=({description:e,disabled:n,error:a,intlLabel:i,labelAction:o,name:l,onChange:d,placeholder:c,value:p})=>{const{formatMessage:y}=(0,v.useIntl)(),g=a?y({id:a,defaultMessage:a}):"",m=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=y(i),x=c?y({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",O=Array.isArray(p)?p.join(`
`):"",j=V=>{const Z=V.target.value.split(`
`);d({target:{name:l,value:Z}})};return t.createElement(_r.g,{disabled:n,error:g,label:R,labelAction:o,id:l,hint:m,name:l,onChange:j,placeholder:x,value:O},O)};Nn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Nn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const es=Nn,ts=(e,n)=>{const a=k()(e,["contentType","schema","kind"],"");return a==="singleType"||a===n.kind?!0:k()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const p=(0,bn.Z)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},ns=(e="",n,a)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],o=e==="contentType",l=a.includes(n),d=!o&&!l;return o?[[...i,"uid"],["component","dynamiczone"]]:d?[i,["component"]]:[i]},Ca=e=>e.reduce((n,a)=>{const i=a.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...n,...i]},[]);var M=s(53209),Mt=s(97392);const as={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Ta=/^[A-Za-z][-_0-9A-Za-z]*$/,rs=e=>{const n={name:M.Z_().matches(Ta,f.translatedErrors.regex).test({name:"nameNotAllowed",message:f.translatedErrors.unique,test(a){return a?!e.includes((0,b.toLower)(a)):!1}}).required(f.translatedErrors.required)};return M.Ry(n)},ss=(e,n,a)=>{const i={displayName:M.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(o){if(!o)return!1;const l=(0,Mt.N)(o,a);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(o){return o?!n.includes((0,b.toLower)((0,b.trim)(o))):!1}}).required(f.translatedErrors.required),category:M.Z_().matches(Ta,f.translatedErrors.regex).required(f.translatedErrors.required),icon:M.Z_()};return M.Ry(i)},Ln={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},xt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},os={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},n){return n==="1"?{sections:xt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,a)=>e.enum.indexOf(n)===a&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},Ye={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Ea={advanced:os,base:{component(e,n){if(n==="1"){const a=e.createComponent===!0?xt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Ln]},...a]}}return{sections:[{sectionTitle:null,items:[Ye,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ye,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ye,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,a){const i=a.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Ye,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},is={sections:[{sectionTitle:null,items:[Ye]}]};var ls=s(44908),ds=s.n(ls),us=s(46831),cs=s.n(us);const Pn=e=>cs()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Ma=/^[A-Za-z][_0-9A-Za-z]*$/,xa=e=>({name:"attributeNameAlreadyUsed",message:f.translatedErrors.unique,test(n){return n?!e.includes(n):!1}}),ko=(e,n,a)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(o=>n?o!==a:!0)},On=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),C={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>M.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return M.Z_().test(xa(e)).test(On(n)).matches(Ma,f.translatedErrors.regex).required(f.translatedErrors.required)},required:()=>M.O7(),type:()=>M.Z_().required(f.translatedErrors.required),unique:()=>M.O7().nullable()},$n=(e,n)=>({name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Dn={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN((0,b.toNumber)(e))?!0:(0,b.toNumber)(n)>=(0,b.toNumber)(e)}},In={date(e,n){const a={name:C.name(e,n),type:C.type()};return M.Ry(a)},datetime(e,n){const a={name:C.name(e,n),type:C.type()};return M.Ry(a)},time(e,n){const a={name:C.name(e,n),type:C.type()};return M.Ry(a)},default(e,n){const a={name:C.name(e,n),type:C.type()};return M.Ry(a)},biginteger(e,n){const a={name:C.name(e,n),type:C.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:C.unique(),required:C.required(),max:M.Z_().nullable().matches(/^-?\d*$/,f.translatedErrors.regex),min:M.Z_().nullable().test(Dn).matches(/^-?\d*$/,f.translatedErrors.regex)};return M.Ry(a)},boolean(e,n){const a={name:C.name(e,n),default:M.O7().nullable(),required:C.required(),unique:C.unique()};return M.Ry(a)},component(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),max:C.max(),min:C.min(),component:M.Z_().required(f.translatedErrors.required)};return M.Ry(a)},decimal(e,n){const a={name:C.name(e,n),type:C.type(),default:M.Rx(),required:C.required(),max:M.Rx(),min:M.Rx().test(Dn)};return M.Ry(a)},dynamiczone(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),max:C.max(),min:C.min()};return M.Ry(a)},email(e,n){const a={name:C.name(e,n),type:C.type(),default:M.Z_().email().nullable(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return M.Ry(a)},enumeration(e,n){const a=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:M.Z_().test(xa(e)).test(On(n)).matches(a,f.translatedErrors.regex).required(f.translatedErrors.required),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),enum:M.IX().of(M.Z_()).min(1,f.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(o){return!ds()(o.map(Pn).filter((d,c,p)=>p.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:o=>!o.map(Pn).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:o=>o.map(Pn).every(l=>a.test(l))}),enumName:M.Z_().nullable()};return M.Ry(i)},float(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(Dn)};return M.Ry(a)},integer(e,n){const a={name:C.name(e,n),type:C.type(),default:M.Rx().integer(),unique:C.unique(),required:C.required(),max:C.max(),min:C.min()};return M.Ry(a)},json(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),unique:C.unique()};return M.Ry(a)},media(e,n){const a={name:C.name(e,n),type:C.type(),multiple:M.O7(),required:C.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(a)},password(e,n){const a={name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return M.Ry(a)},relation(e,n,a,{initialData:i,modifiedData:o}){const l={name:C.name(e,n),target:M.Z_().required(f.translatedErrors.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const d=(0,bn.Z)(o.relation,o.targetAttribute);if(d==="oneWay"||d==="manyWay")return M.Z_().nullable();let c=M.Z_().test(On(n)),y=[...a.map(({name:g})=>g),o.name].filter(g=>g!==i.targetAttribute);return c.matches(Ma,f.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!y.includes(g):!1}}).required(f.translatedErrors.required)})};return M.Ry(l)},richtext(e,n){const a={name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return M.Ry(a)},string(e,n){const a=$n(e,n);return M.Ry(a)},text(e,n){const a=$n(e,n);return M.Ry(a)},uid(e,n){const a=$n(e,n);return M.Ry(a)}},Ra={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},jn={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Ra,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Ra,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},ms=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:a=[],pluralNames:i=[]})=>{const o={displayName:M.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(l){if(!l)return!1;const d=(0,Mt.E)(l);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,d){return l?d.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!a.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,d){return l?d.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"])};return M.Ry(o)},zn={advanced:{default(){return{sections:xt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Ln]},...xt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Ln]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Aa=(e,n)=>{e.forEach(a=>{if(!("sectionTitle"in a)){n[0].items.push(a);return}n.push(a)})},Za=(e,n)=>e.filter(({name:a})=>a!==n.initialData.name).map(({name:a})=>a);var Sa=s(25108);const at={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:a,reservedNames:i,schemaData:o,ctbFormsAPI:l}){const d=Za(e,o),c=In[n](d,i.attributes);return l.makeCustomFieldValidator(c,a,d,i.attributes,o)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Ye]}];return e.options?.base&&Aa(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:a,extensions:i,...o}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:a,...o});if(e.options?.advanced&&Aa(e.options.advanced,l),d){const c={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,n,a,i,o,l){const d=k()(e,["schema","attributes"],[]),c=Za(d,o);try{let p=In[n](c,a.attributes,i,o);return l.makeValidator(["attribute",n],p,c,a.attributes,i,o)}catch(p){return Sa.error("Error yup build schema",p),In.default(c,a.attributes)}},form:{advanced({data:e,type:n,step:a,extensions:i,...o}){try{const l=Ea.advanced[n](e,a).sections,d=i.getAdvancedForm(["attribute",n],{data:e,type:n,step:a,...o});return{sections:l.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...d]}),p),[])}}catch(l){return Sa.error(l),{sections:[]}}},base({data:e,type:n,step:a,attributes:i}){try{return Ea.base[n](e,a,i)}catch{return is}}}},contentType:{schema(e,n,a,i,o,l){const d=Object.values(l).map(R=>R.schema.singularName),c=Object.values(l).map(R=>k()(R,["schema","pluralName"],"")),p=n?e.filter(R=>R!==a):e,y=n?d.filter(R=>k()(l,[a,"schema","singularName"],"")!==R):d,g=n?c.filter(R=>k()(l,[a,"schema","pluralName"],"")!==R):c,m=ms({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:g});return o.makeValidator(["contentType"],m,p,i.models,y,g)},form:{base({actionType:e}){return e==="create"?jn.base.create():jn.base.edit()},advanced({extensions:e}){const n=jn.advanced.default().sections.map(i=>i.items).flat(),a=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...a]}]}}}},component:{schema(e,n,a,i=!1,o=null){const l=i?e.filter(d=>d!==o):e;return ss(l,a.models,n)},form:{advanced(){return{sections:xt.advanced()}},base(){return{sections:xt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return zn.advanced.default()},base({data:e}){return k()(e,"createComponent",!1)?zn.base.createComponent():zn.base.default()}}},editCategory:{schema(e,n){const a=e.filter(i=>i!==n.name).map(i=>q()(i));return rs(a)},form:{advanced:()=>({sections:[]}),base(){return as.base}}}};var Fa=s(20573),ps=s(88372);const gs=()=>e=>e[`${z.Z}_formModal`]||ps.E,fs=()=>(0,Fa.P1)(gs(),e=>e);var Na=s(25108);const ys=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:a,onNavigateToCreateComponentStep2:i,actionType:o,attributeName:l,attributeType:d,customFieldUid:c,categoryName:p,dynamicZoneTarget:y,forTarget:g,modalType:m,isOpen:R,kind:x,step:O,targetUid:j}=(0,pe.Z)(),V=(0,f.useCustomFields)().get(c),Z=(0,t.useRef)(),E=(0,t.useMemo)(fs,[]),F=(0,Y.useDispatch)(),H=(0,f.useNotification)(),ee=(0,Y.useSelector)(X=>E(X),Y.shallowEqual),{push:ue}=(0,h.useHistory)(),{trackUsage:A}=(0,f.useTracking)(),{formatMessage:ne}=(0,v.useIntl)(),{getPlugin:te}=(0,f.useStrapiApp)(),ie=te(z.Z).apis.forms,J=ie.components.inputs,{addAttribute:ce,addCustomFieldAttribute:Ot,addCreatedComponentToDynamicZone:rt,allComponentsCategories:se,changeDynamicZoneComponents:P,contentTypes:Rt,components:$t,createSchema:At,deleteCategory:Un,deleteData:Gt,editCategory:wn,editCustomFieldAttribute:qn,submitData:Wn,modifiedData:Ne,nestedComponents:Xt,setModifiedData:Kn,sortedContentTypesList:Vn,updateSchema:Hn,reservedNames:We}=(0,He.Z)(),{componentToCreate:Dt,formErrors:I,initialData:L,isCreatingComponentWhileAddingAField:K,modifiedData:$}=ee,Ce=g==="contentType"||g==="component"?[g]:[g,j];(0,t.useEffect)(()=>{if(R){const X=Vn.filter(qe);m==="editCategory"&&Kn(),o==="edit"&&m==="attribute"&&g==="contentType"&&A("willEditFieldOfContentType");const Ie=[...Ce,"schema","attributes"],Ue=An(k()(Ne,Ie,[]),y)||null;if(m==="editCategory"&&o==="edit"&&F({type:ve._H,modalType:m,actionType:o,data:{name:p}}),m==="contentType"&&o==="create"&&F({type:ve._H,modalType:m,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&o==="edit"){const{displayName:_,draftAndPublish:Me,kind:we,pluginOptions:Le,pluralName:Co,singularName:To}=k()(Ne,[...Ce,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});F({type:ve._H,actionType:o,modalType:m,data:{displayName:_,draftAndPublish:Me,kind:we,pluginOptions:Le,pluralName:Co,singularName:To}})}if(m==="component"&&o==="edit"){const _=k()(Ne,Ce,{});F({type:ve._H,actionType:o,modalType:m,data:{displayName:_.schema.displayName,category:_.category}})}if(m==="addComponentToDynamicZone"&&o==="edit"){const _={...Ue,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};F({type:ve.VZ,attributeToEdit:_})}if(d){const Me={...An(k()(Ne,Ie,[]),l),name:l};d==="component"&&o==="edit"&&(Me.repeatable||Ve()(Me,"repeatable",!1)),F(m==="customField"?{type:ve.OY,customField:V,isEditing:o==="edit",modifiedDataToSetForEditing:Me,forTarget:g}:{type:ve.S0,attributeType:d,nameToSetForRelation:k()(X,["0","title"],"error"),targetUid:k()(X,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:Me,step:O,forTarget:g})}}else F({type:ve.c2})},[o,l,d,p,y,g,R,m]);const Pe=m==="contentType",st=m==="component",Zt=m==="attribute",qa=m==="customField",Wa=d==="component"&&Zt,It=o==="create",ot=k()($,"createComponent",!1)||K,St=O==="1",Ka=m==="editCategory",Va=m==="chooseAttribute",Gn=(0,Mt.E)($.displayName||""),Xn=k()(Ne,[...Ce,"schema","attributes"],null),so=async()=>{let X;const Ie=ot&&O==="1"?k()($,"componentToCreate",{}):$;if(Pe)X=at.contentType.schema(Object.keys(Rt),o==="edit",k()(Ne,[...Ce,"uid"],null),We,ie,Rt);else if(st)X=at.component.schema(Object.keys($t),$.category||"",We,o==="edit",k()(Ne,[...Ce,"uid"],null),ie);else if(qa)X=at.customField.schema({schemaAttributes:k()(Ne,[...Ce,"schema","attributes"],[]),attributeType:V.type,reservedNames:We,schemaData:{modifiedData:$,initialData:L},ctbFormsAPI:ie,customFieldValidator:V.options?.validator});else if(Wa&&ot&&St)X=at.component.schema(Object.keys($t),k()($,"componentToCreate.category",""),We,ie);else if(Zt&&!St){const Ue=d==="relation"?"relation":$.type;let _=[];if(Ue==="relation"){const Me=k()($,["target"],null);_=k()(Rt,[Me,"schema","attributes"],[]).filter(({name:Le})=>o!=="edit"?!0:Le!==L.targetAttribute)}X=at.attribute.schema(k()(Ne,Ce,{}),Ue,We,_,{modifiedData:$,initialData:L},ie)}else if(Ka)X=at.editCategory.schema(se,L,ie);else if(St&&ot)X=at.component.schema(Object.keys($t),k()($,"componentToCreate.category",""),We,ie);else return;await X.validate(Ie,{abortEarly:!1})},Ha=(0,t.useCallback)(({target:{name:X,value:Ie,type:Ue,..._}})=>{const Me=["enumName","max","min","maxLength","minLength","regex","default"];let we;Me.includes(X)&&Ie===""?we=null:we=Ie;const Le=Object.assign({},I);X==="max"&&delete Le.min,X==="maxLength"&&delete Le.minLength,delete Le[X],F({type:ve.Ey,errors:Le}),F({type:ve.P0,keys:X.split("."),value:we,..._})},[F,I]),ke=async(X,Ie=It)=>{X.preventDefault();try{await so(),lo(Ie);const Ue=g==="components"?j:Gn;if(Pe)if(It)At({...$,kind:x},m,Gn),ue({pathname:`/plugins/${z.Z}/content-types/${Gn}`}),n({forTarget:g,targetUid:Ue});else{ts(Ne,$)?(e(),Wn($)):H({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(It){const _=(0,Mt.N)($.displayName,$.category),{category:Me,...we}=$;At(we,"component",_,Me),ue({pathname:`/plugins/${z.Z}/component-categories/${Me}/${_}`}),n({forTarget:g,targetUid:_})}else{Hn($,m,j),e();return}else if(Ka){if(q()(L.name)===q()($.name)){e();return}wn(L.name,$);return}else if(qa){const _={attributeToSet:{...$,customField:c},forTarget:g,targetUid:j,initialAttribute:L};o==="edit"?qn(_):Ot(_),Ie?n({forTarget:g,targetUid:Ue}):e();return}else if(Zt&&!ot){if(d==="dynamiczone"){ce($,g,j,o==="edit",L),It?(F({type:ve.I}),Z.current._handlers.setSelectedTabIndex(0),a({dynamicZoneTarget:$.name})):e();return}if(!Wa){ce($,g,j,o==="edit",L),Ie?n({forTarget:g,targetUid:Ue}):e();return}if(St){i(),F({type:ve.yC,forTarget:g});return}ce($,g,j,o==="edit",L,!0),Ie?n({forTarget:g,targetUid:j}):e()}else if(Zt&&ot){if(St){A("willCreateComponentFromAttributesModal"),F({type:ve.oF,forTarget:g}),i();return}const{category:_,type:Me,...we}=Dt,Le=(0,Mt.N)(Dt.displayName,_);At(we,Me,Le,_,ot),ce($,g,j,!1),F({type:ve.c2}),Ie?n({forTarget:"components",targetUid:Le}):e();return}else{if(St)if(ot){const{category:_,type:Me,...we}=$.componentToCreate,Le=(0,Mt.N)($.componentToCreate.displayName,_);At(we,Me,Le,_,ot),rt(y,[Le]),n({forTarget:"components",targetUid:Le})}else P(y,$.components),e();else Na.error("This case is not handled");return}F({type:ve.c2})}catch(Ue){const _=(0,f.getYupInnerErrors)(Ue);Na.log({err:Ue,errors:_}),F({type:ve.Ey,errors:_})}},oo=()=>{window.confirm(ne({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),F({type:ve.c2}))},Ga=()=>{(0,b.isEqual)($,L)?(e(),F({type:ve.c2})):oo()},io=X=>{if(X==="advanced"){if(Pe){A("didSelectContentTypeSettings");return}g==="contentType"&&A("didSelectContentTypeFieldSettings")}},lo=X=>{m==="attribute"&&g==="contentType"&&d!=="dynamiczone"&&X&&A("willAddMoreFieldToContentType")},uo=()=>!!(m==="editCategory"||m==="component"||tt()($,"createComponent")),co=ns(g,j,Xt);if(!R||!m)return null;const Xa=k()(at,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),mo=g==="components"||g==="component",Ya={customInputs:{"allowed-types-select":Qt,"boolean-radio-group":or,"checkbox-with-number-field":Zr,"content-type-radio-group":Sr,"radio-group":cn,relation:qr,"select-category":Hr,"select-component":Gr,"select-components":Xr,"select-default-boolean":ar,"select-number":Jr,"select-date":Yr,"toggle-draft-publish":Q,"text-plural":Wr,"text-singular":Qr,"textarea-enum":es,...J},componentToCreate:Dt,dynamicZoneTarget:y,formErrors:I,isAddingAComponentToAnotherComponent:mo,isCreatingComponentWhileAddingAField:K,mainBoxHeader:k()(Ne,[...Ce,"schema","displayName"],""),modifiedData:$,naturePickerType:g,isCreating:It,targetUid:j,forTarget:g},Ja=Xa.advanced({data:$,type:d,step:O,actionType:o,attributes:Xn,extensions:ie,forTarget:g,contentTypeSchema:Ne.contentType||{},customField:V}).sections,Qa=Xa.base({data:$,type:d,step:O,actionType:o,attributes:Xn,extensions:ie,forTarget:g,contentTypeSchema:Ne.contentType||{},customField:V}).sections,po=Ca(Qa),go=Ca(Ja),fo=Object.keys(I).some(X=>po.includes(X)),yo=Object.keys(I).some(X=>go.includes(X)),ho=k()(Rt,[j,"schema","kind"]),bo=()=>o==="edit"&&Xn.every(({name:X})=>X!==$?.name),vo=()=>{bo()&&A("didEditFieldNameOnContentType")};return t.createElement(Ee.P,{onClose:Ga,labelledBy:"title"},t.createElement(_a,{actionType:o,attributeName:l,categoryName:p,contentTypeKind:x,dynamicZoneTarget:y,modalType:m,forTarget:g,targetUid:j,attributeType:d,customFieldUid:c}),Va&&t.createElement(rn,{attributes:co,forTarget:g,kind:ho||"collectionType"}),!Va&&t.createElement("form",{onSubmit:ke},t.createElement(it.f,null,t.createElement(ft.v,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:X=>{X===1&&io("advanced")}},t.createElement(be.k,{justifyContent:"space-between"},t.createElement(nr,{actionType:o,forTarget:g,kind:x,step:O,modalType:m,attributeType:d,attributeName:l,customField:V}),t.createElement(nt.m,null,t.createElement(nt.O,{hasError:fo},ne({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(nt.O,{hasError:yo,disabled:uo()},ne({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(Oe.i,null),t.createElement(U.x,{paddingTop:6},t.createElement(je.n,null,t.createElement(je.x,null,t.createElement(Re.K,{spacing:6},t.createElement(va,{form:Qa,formErrors:I,genericInputProps:Ya,modifiedData:$,onChange:Ha}))),t.createElement(je.x,null,t.createElement(Re.K,{spacing:6},t.createElement(va,{form:Ja,formErrors:I,genericInputProps:Ya,modifiedData:$,onChange:Ha}))))))),t.createElement(Yt.m,{endActions:t.createElement(er,{deleteCategory:Un,deleteContentType:Gt,deleteComponent:Gt,categoryName:L.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:$.createComponent||!1,isCreatingComponentInDz:$.createComponent||!1,isCreatingComponentWhileAddingAField:K,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:O==="1",onSubmitAddComponentAttribute:ke,onSubmitAddComponentToDz:ke,onSubmitCreateComponent:ke,onSubmitCreateContentType:ke,onSubmitCreateDz:ke,onSubmitEditAttribute:ke,onSubmitEditCategory:ke,onSubmitEditComponent:ke,onSubmitEditContentType:ke,onSubmitEditCustomFieldAttribute:ke,onSubmitEditDz:ke,onClickFinish:vo}),startActions:t.createElement(G.z,{variant:"tertiary",onClick:Ga},ne({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},La=e=>e.reduce((n,a)=>(n[a.uid]=a,n),{}),hs=(e,n,a,i)=>{const o=n.reduce((c,p)=>{const y=k()(a,p,{});return c[p]=y,c},{});return{[i?"contentType":"component"]:e,components:o}},bs=(e,n)=>{const a=Object.keys(e).map(i=>(0,b.get)(e,[i,...n],""));return(0,fe.Z)(a)};var vs=s(19525);const Cs=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=(0,b.get)(e,[i,"schema","attributes"],[]),l=Ts(o);return[...a,...l]},[]);return(0,fe.Z)(n)},Ts=e=>e.reduce((n,a)=>{const{type:i,component:o}=a;return i==="component"&&n.push(o),n},[]),Pa=Cs,Es=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=k()(e,[i],{}),l=o.uid;return Ms(o)&&a.push(l),a},[]);return(0,fe.Z)(n)},Ms=e=>k()(e,["schema","attributes"],[]).some(a=>{const{type:i}=a;return i==="component"}),xs=(e,n)=>{const a=Object.keys(e).filter(i=>{const o=(0,b.get)(e,i,{}),l=(0,b.get)(n,i,{}),d=(0,b.get)(o,["isTemporary"],!1),c=!(0,b.isEqual)(o,l);return d||c});return(0,fe.Z)(a)},Rs=(e,n)=>{const a=$a((0,b.get)(e,"schema.attributes",[]),n),i=(0,b.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,b.omit)(e.schema,"attributes"),{attributes:a})},Oa=(e,n=!1)=>{const a=(0,b.get)(e,"uid",null),i=$a((0,b.get)(e,"schema.attributes",[]),a),o=n?{category:(0,b.get)(e,"category","")}:{},l=Object.assign(o,(0,b.omit)(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},$a=(e,n)=>e.reduce((a,{name:i,...o})=>{const l=o,d=l.target===n,c=l.type==="relation",p=(0,b.get)(l,"targetAttribute",null);if(!d)if(c){const y=Object.assign({},l,{targetAttribute:Da(p)});a[i]=Ht(y)}else a[i]=Ht(l);if(d){const y=l.target,g=Object.assign({},l,{target:y,targetAttribute:Da(p)});a[i]=Ht(g)}if(l.customField){const y={...l,type:"customField"};a[i]=Ht(y)}return a},{}),Da=e=>e==="-"?null:e,Ht=e=>Object.keys(e).reduce((n,a)=>(e[a]!==null&&a!=="plugin"&&(n[a]=e[a]),n),{}),As=(e,n,a,i=!1)=>xs(e,n).map(d=>{const c=(0,b.get)(e,d,{});return Rs(c,a,i)}),Zs=e=>(0,b.sortBy)(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${z.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>(0,b.camelCase)(n.title)),Ia="did-not-kill-server",Ss="server is down";function Lt(e,n){return new Promise(a=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Ss);if(!n)throw new Error(Ia);a(e)}).catch(i=>{setTimeout(()=>Lt(e,i.message!==Ia).then(a),100)})})}const Fs=e=>Object.values(e.attributes).filter(({type:a})=>a==="dynamiczone").every(({components:a})=>Array.isArray(a)&&a.length>0);var Se=s(92407),Ns=s(87431);const Ls=()=>e=>e[`${z.Z}_dataManagerProvider`]||Ns.E,Ps=()=>(0,Fa.P1)(Ls(),e=>e),Os=e=>Object.keys(e).reduce((n,a)=>{const i=e[a].schema;return n[a]={...e[a],schema:{...i,attributes:$s(i.attributes)}},n},{}),$s=e=>Object.keys(e).reduce((n,a)=>(n.push({...e[a],name:a}),n),[]),ja=Os;var Pt=s(25108);const Bn=({children:e,components:n,contentTypes:a,isLoading:i,isLoadingForDataToBeSet:o,initialData:l,modifiedData:d,reservedNames:c})=>{const p=(0,Y.useDispatch)(),y=(0,f.useNotification)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:m}=(0,f.useAutoReloadOverlayBlocker)(),{setCurrentStep:R}=(0,f.useGuidedTour)(),{getPlugin:x}=(0,f.useStrapiApp)(),{apis:O}=x(z.Z),{autoReload:j}=(0,f.useAppInfos)(),{formatMessage:V}=(0,v.useIntl)(),{trackUsage:Z}=(0,f.useTracking)(),{refetchPermissions:E}=(0,f.useRBACProvider)(),{pathname:F}=(0,h.useLocation)(),{onCloseModal:H}=(0,pe.Z)(),ee=(0,h.useRouteMatch)(`/plugins/${z.Z}/content-types/:uid`),ue=(0,h.useRouteMatch)(`/plugins/${z.Z}/component-categories/:categoryUid/:componentUid`),A=(0,t.useRef)();A.current=V;const ne=j,te=ee!==null,gt=te?"contentType":"component",ie=te?(0,b.get)(ee,"params.uid",null):(0,b.get)(ue,"params.componentUid",null),J=(0,t.useRef)(),ce=te?"content-types":"components";J.current=async()=>{try{const[{data:{data:I}},{data:{data:L}},{data:K}]=await Promise.all(["components","content-types","reserved-names"].map(Zt=>he.get(Zt))),$=La(I),Ce=ja($),Pe=La(L),st=ja(Pe);p({type:Se.Id,components:Ce,contentTypes:st,reservedNames:K})}catch(I){Pt.error({err:I}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(J.current(),()=>{p({type:Se.Zl})}),[]),(0,t.useEffect)(()=>{!i&&ie&&Xt()},[i,F,ie]),(0,t.useEffect)(()=>{j||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[j,y]);const Ot=(I,L,K,$=!1,Ce,Pe=!1)=>{const st=$?Se.JO:Se.gz;p({type:st,attributeToSet:I,forTarget:L,targetUid:K,initialAttribute:Ce,shouldAddComponentToData:Pe})},rt=({attributeToSet:I,forTarget:L,targetUid:K,initialAttribute:$})=>{p({type:Se.Ir,attributeToSet:I,forTarget:L,targetUid:K,initialAttribute:$})},se=({attributeToSet:I,forTarget:L,targetUid:K,initialAttribute:$})=>{p({type:Se.Ly,attributeToSet:I,forTarget:L,targetUid:K,initialAttribute:$})},P=(I,L)=>{p({type:Se.Uu,dynamicZoneTarget:I,componentsToAdd:L})},Rt=(I,L,K,$,Ce=!1)=>{const Pe=L==="contentType"?Se.Sh:Se.VR;p({type:Pe,data:I,componentCategory:$,schemaType:L,uid:K,shouldAddComponentToData:Ce})},$t=(I,L)=>{p({type:Se.o_,dynamicZoneTarget:I,newComponents:L})},At=(I,L,K="")=>{const $=I==="components"?Se.lw:Se.ai;I==="contentType"&&Z("willDeleteFieldOfContentType"),p({type:$,mainDataKey:I,attributeToRemoveName:L,componentUid:K})},Un=async I=>{try{const L=`/component-categories/${I}`,K=window.confirm(V({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));H(),K&&(g(),await he.delete(L),await Lt(!0),await m(),await We())}catch(L){Pt.error({err:L}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Gt=async()=>{try{const I=`/${ce}/${ie}`,L=(0,b.get)(d,[gt,"isTemporary"],!1),K=window.confirm(V({id:(0,u.Z)(`popUpWarning.bodyMessage.${te?"contentType":"component"}.delete`)}));if(H(),K){if(L){p({type:Se.Ap});return}g(),await he.delete(I),await Lt(!0),await m(),await We()}}catch(I){Pt.error({err:I}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},wn=async(I,L)=>{try{const K=`/component-categories/${I}`;H(),g(),await he.put(K,L),await Lt(!0),await m(),await We()}catch(K){Pt.error({err:K}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},qn=()=>{const I=Object.assign({},n,d.components);if(!te){const K=(0,b.get)(d,"component",{});(0,b.set)(I,(0,b.get)(K,["uid"],""),K)}const L=Es(I);return(0,fe.Z)(L)},Wn=()=>{const I=Pa(n),L=Pa(d.components||{});return(0,fe.Z)([...L,...I])},Ne=(I,L)=>{p({type:Se.NG,dzName:I,componentToRemoveIndex:L})},Xt=()=>{const I=te?a:n,L=(0,b.get)(I,ie,{schema:{attributes:[]}}),K=(0,vs.Z)(L.schema.attributes,n),$=hs(L,K,n,te),Ce=(0,b.get)(L,"isTemporary",!1)&&(0,b.size)((0,b.get)(L,"schema.attributes",[]))===0;p({type:Se.xx,schemaToSet:$,hasJustCreatedSchema:Ce})},Kn=(0,t.useMemo)(()=>{const I=te?a:n;return ie==="create-content-type"?!1:!Object.keys(I).includes(ie)&&!i},[n,a,ie,te,i]),Vn=(0,t.useMemo)(()=>{const I=Object.keys(a).filter(L=>(0,b.get)(a,[L,"schema","visible"],!0)).sort();return(0,b.get)(I,"0","create-content-type")},[a]);if(Kn)return t.createElement(h.Redirect,{to:`/plugins/${z.Z}/content-types/${Vn}`});const Hn=async I=>{try{const L=(0,b.get)(d,[gt,"isTemporary"],!1),K={components:As(d.components,n,ie,L)};if(te){const Pe=O.forms.mutateContentTypeSchema({...Oa(d.contentType),...I},l.contentType);if(!Fs(Pe)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}K.contentType=Pe,Z("willSaveContentType")}else K.component=Oa(d.component,!0),Z("willSaveComponent");g();const $=`/${ce}`,Ce=L?$:`${$}/${ie}`;if(L?await he.post(Ce,K):await he.put(Ce,K),await Lt(!0),await m(),L&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&R("contentTypeBuilder.success"),te){Z("didSaveContentType");const Pe=(0,b.get)(K,["contentType","schema","name"],""),st=(0,b.get)(l,["contentType","schema","name"],"");!L&&Pe!==st&&Z("didEditNameOfContentType")}else Z("didSaveComponent");await We()}catch(L){te||Z("didNotSaveComponent"),Pt.error({err:L.response}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},We=async()=>{await E()},Dt=(I,L,K)=>{p({type:Se.bi,data:I,schemaType:L,uid:K})};return t.createElement(me.Z.Provider,{value:{addAttribute:Ot,addCustomFieldAttribute:rt,addCreatedComponentToDynamicZone:P,allComponentsCategories:bs(n,["category"]),changeDynamicZoneComponents:$t,components:n,componentsGroupedByCategory:(0,b.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:qn(),contentTypes:a,createSchema:Rt,deleteCategory:Un,deleteData:Gt,editCategory:wn,editCustomFieldAttribute:se,isInDevelopmentMode:ne,initialData:l,isInContentTypeView:te,modifiedData:d,nestedComponents:Wn(),removeAttribute:At,removeComponentFromDynamicZone:Ne,reservedNames:c,setModifiedData:Xt,sortedContentTypesList:Zs(a),submitData:Hn,updateSchema:Dt}},o?t.createElement(f.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,ne&&t.createElement(ys,null)))};Bn.defaultProps={components:{}},Bn.propTypes={children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const Ds=Ps(),Is=(0,Y.connect)(Ds,null),js=(0,Te.compose)(Is)((0,t.memo)(Bn));var zs=s(98422);const za={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ba=({children:e})=>{const[n,a]=(0,t.useState)(za),{trackUsage:i}=(0,f.useTracking)(),o=({attributeType:Z,customFieldUid:E})=>{a(F=>({...F,actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:E}))},l=({attributeType:Z,step:E})=>{n.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:Z}),a(F=>({...F,actionType:"create",modalType:"attribute",step:E,attributeType:Z}))},d=({dynamicZoneTarget:Z,targetUid:E})=>{a(F=>({...F,dynamicZoneTarget:Z,targetUid:E,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:Z,targetUid:E})=>{a(F=>({...F,actionType:"create",forTarget:Z,targetUid:E,modalType:"chooseAttribute",isOpen:!0}))},p=Z=>{a(E=>({...E,...Z,isOpen:!0}))},y=Z=>{a(E=>({...E,categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:Z,targetUid:E,attributeName:F,attributeType:H,customFieldUid:ee})=>{a(ue=>({...ue,modalType:"customField",customFieldUid:ee,actionType:"edit",forTarget:Z,targetUid:E,attributeName:F,attributeType:H,isOpen:!0}))},m=({forTarget:Z,targetUid:E,attributeName:F,attributeType:H,step:ee})=>{a(ue=>({...ue,modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:E,attributeName:F,attributeType:H,step:ee,isOpen:!0}))},R=({modalType:Z,forTarget:E,targetUid:F,kind:H})=>{a(ee=>({...ee,modalType:Z,actionType:"edit",forTarget:E,targetUid:F,kind:H,isOpen:!0}))},x=()=>{a(za)},O=({forTarget:Z,targetUid:E})=>{a(F=>({...F,forTarget:Z,targetUid:E,modalType:"chooseAttribute"}))},j=()=>{a(Z=>({...Z,attributeType:"component",modalType:"attribute",step:"2"}))},V=({dynamicZoneTarget:Z})=>{a(E=>({...E,dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(zs.Z.Provider,{value:{...n,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:x,onNavigateToChooseAttributeModal:O,onNavigateToAddCompoToDZModal:V,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:j,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:m,onOpenModalEditCustomField:g,onOpenModalEditSchema:R,setFormModalNavigationState:a}},e)};Ba.propTypes={children:r().node.isRequired};const Bs=Ba,ks=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),Us=()=>{const{url:e}=(0,h.useRouteMatch)(),{categoryUid:n}=(0,h.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(h.Switch,null,t.createElement(h.Route,{path:`${e}/:componentUid`},t.createElement(ks,{categoryId:n}))))};var ws=s(53192),qs=s(38702),Ws=s(34446),Ks=s(29489);const Vs=(0,$e.default)(U.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Hs=$e.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Gs=$e.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,kn=({label:e,children:n,id:a})=>{const[i,o]=(0,t.useState)(!0),l=(0,oa.M)(a),d=()=>{o(c=>!c)};return t.createElement(U.x,null,t.createElement(Vs,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},t.createElement(be.k,{justifyContent:"space-between"},t.createElement(Hs,{onClick:d,"aria-expanded":i,"aria-controls":l},t.createElement(Gs,{rotated:i},t.createElement(mn.CarretDown,{"aria-hidden":!0})),t.createElement(U.x,{paddingLeft:2},t.createElement(re.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&t.createElement("ul",{id:l},t.Children.map(n,(c,p)=>t.createElement("li",{key:p},c))))};kn.defaultProps={id:void 0},kn.propTypes={children:S.node.isRequired,id:S.string,label:S.string.isRequired};var ka=s(52305),Xs=s(39785),Ys=s(41609),Js=s.n(Ys),Qs=s(89734),Ua=s.n(Qs),_s=s(18446),eo=s.n(_s),to=s(63852);const no=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:a,isInDevelopmentMode:i,sortedContentTypesList:o,modifiedData:l,initialData:d}=(0,He.Z)(),c=(0,f.useNotification)(),{trackUsage:p}=(0,f.useTracking)(),[y,g]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:R}=(0,pe.Z)(),x=Ua()(Object.keys(n).map(A=>({name:A,title:A,isEditable:i,onClickEdit(ne,te){ne.stopPropagation(),O?R(te.name):E()},links:Ua()(n[A].map(ne=>({name:ne.uid,to:`/plugins/${z.Z}/component-categories/${A}/${ne.uid}`,title:ne.schema.displayName})),ne=>ne.title)})),A=>A.title),O=!Object.keys(a).some(A=>a[A].isTemporary===!0)&&!Object.keys(e).some(A=>e[A].isTemporary===!0)&&eo()(l,d),j=()=>{O?(p("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):E()},V=()=>{O?(p("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):E()},Z=()=>{O?(p("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):E()},E=()=>{c({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},F=o.filter(A=>A.visible),H=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:j},links:F.filter(A=>A.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:V},links:F.filter(A=>A.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:x}],ee=A=>y?(0,to.ZP)(A,q()(y),{keys:[ne=>q()(ne.title)]}):A;return{menu:(()=>H.map(A=>A.links.some(te=>!Js()(te.links))?{...A,links:A.links.map(te=>({...te,links:ee(te.links)}))}:{...A,links:ee(A.links)}))(),searchValue:y,onSearchChange:g}},ao=()=>{const{menu:e,searchValue:n,onSearchChange:a}=no(),{formatMessage:i}=(0,v.useIntl)();return t.createElement(ws.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(qs.p,{searchable:!0,value:n,onClear:()=>a(""),onChange:o=>a(o.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(Ws.Z,null,e.map(o=>t.createElement(t.Fragment,{key:o.name},t.createElement(Ks.D,{label:i({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString()},o.links.map(l=>l.links?t.createElement(kn,{key:l.name,label:ze()(l.title)},l.links.map(d=>t.createElement(ka.E,{as:h.NavLink,to:d.to,active:d.active,key:d.name,isSubSectionChild:!0},ze()(i({id:d.name,defaultMessage:d.title}))))):t.createElement(ka.E,{as:h.NavLink,to:l.to,active:l.active,key:l.name},ze()(i({id:l.name,defaultMessage:l.title}))))),o.customLink&&t.createElement(U.x,{paddingLeft:7},t.createElement(Xs.A,{onClick:o.customLink.onClick,startIcon:t.createElement(Qe.default,null),marginTop:2},i({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})))))))},wa=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),ro=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=e({id:`${z.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:a}=(0,f.useGuidedTour)(),i=(0,t.useRef)(a);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(f.CheckPagePermissions,{permissions:T.Z.main},t.createElement(N.Helmet,{title:n}),t.createElement(Bs,null,t.createElement(js,null,t.createElement(B.A,{sideNav:t.createElement(ao,null)},t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(h.Switch,null,t.createElement(h.Route,{path:`/plugins/${z.Z}/content-types/create-content-type`,component:wa}),t.createElement(h.Route,{path:`/plugins/${z.Z}/content-types/:uid`,component:wa}),t.createElement(h.Route,{path:`/plugins/${z.Z}/component-categories/:categoryUid`,component:Us})))))))}},5002:(W,w,s)=>{"use strict";s.d(w,{Z:()=>N});var t=s(96124);const N=v=>`${t.Z}.${v}`},89881:(W,w,s)=>{var t=s(47816),h=s(99291),N=h(t);W.exports=N},23933:(W,w,s)=>{var t=s(44239),h=s(37005),N="[object RegExp]";function v(f){return h(f)&&t(f)==N}W.exports=v},69199:(W,w,s)=>{var t=s(89881),h=s(98612);function N(v,f){var B=-1,T=h(v)?Array(v.length):[];return t(v,function(z,S,r){T[++B]=f(z,S,r)}),T}W.exports=N},82689:(W,w,s)=>{var t=s(29932),h=s(97786),N=s(67206),v=s(69199),f=s(71131),B=s(7518),T=s(85022),z=s(6557),S=s(1469);function r(b,Y,Te){Y.length?Y=t(Y,function(ae){return S(ae)?function(le){return h(le,ae.length===1?ae[0]:ae)}:ae}):Y=[z];var me=-1;Y=t(Y,B(N));var pe=v(b,function(ae,le,ge){var he=t(Y,function(u){return u(ae)});return{criteria:he,index:++me,value:ae}});return f(pe,function(ae,le){return T(ae,le,Te)})}W.exports=r},71131:W=>{function w(s,t){var h=s.length;for(s.sort(t);h--;)s[h]=s[h].value;return s}W.exports=w},26393:(W,w,s)=>{var t=s(33448);function h(N,v){if(N!==v){var f=N!==void 0,B=N===null,T=N===N,z=t(N),S=v!==void 0,r=v===null,b=v===v,Y=t(v);if(!r&&!Y&&!z&&N>v||z&&S&&b&&!r&&!Y||B&&S&&b||!f&&b||!T)return 1;if(!B&&!z&&!Y&&N<v||Y&&f&&T&&!B&&!z||r&&f&&T||!S&&T||!b)return-1}return 0}W.exports=h},85022:(W,w,s)=>{var t=s(26393);function h(N,v,f){for(var B=-1,T=N.criteria,z=v.criteria,S=T.length,r=f.length;++B<S;){var b=t(T[B],z[B]);if(b){if(B>=r)return b;var Y=f[B];return b*(Y=="desc"?-1:1)}}return N.index-v.index}W.exports=h},99291:(W,w,s)=>{var t=s(98612);function h(N,v){return function(f,B){if(f==null)return f;if(!t(f))return N(f,B);for(var T=f.length,z=v?T:-1,S=Object(f);(v?z--:++z<T)&&B(S[z],z,S)!==!1;);return f}}W.exports=h},96347:(W,w,s)=>{var t=s(23933),h=s(7518),N=s(31167),v=N&&N.isRegExp,f=v?h(v):t;W.exports=f},89734:(W,w,s)=>{var t=s(21078),h=s(82689),N=s(18460),v=s(16612),f=N(function(B,T){if(B==null)return[];var z=T.length;return z>1&&v(B,T[0],T[1])?T=[]:z>2&&v(T[0],T[1],T[2])&&(T=[T[0]]),h(B,t(T,1),[])});W.exports=f},7334:(W,w,s)=>{var t=s(79833);function h(N){return t(N).toLowerCase()}W.exports=h},39138:(W,w,s)=>{var t=s(80531),h=s(40180),N=s(62689),v=s(13218),f=s(96347),B=s(88016),T=s(83140),z=s(40554),S=s(79833),r=30,b="...",Y=/\w*$/;function Te(me,pe){var ae=r,le=b;if(v(pe)){var ge="separator"in pe?pe.separator:ge;ae="length"in pe?z(pe.length):ae,le="omission"in pe?t(pe.omission):le}me=S(me);var he=me.length;if(N(me)){var u=T(me);he=u.length}if(ae>=he)return me;var fe=ae-B(le);if(fe<1)return le;var ye=u?h(u,0,fe).join(""):me.slice(0,fe);if(ge===void 0)return ye+le;if(u&&(fe+=ye.length-fe),f(ge)){if(me.slice(fe).search(ge)){var k,et=ye;for(ge.global||(ge=RegExp(ge.source,S(Y.exec(ge))+"g")),ge.lastIndex=0;k=ge.exec(et);)var tt=k.index;ye=ye.slice(0,tt===void 0?fe:tt)}}else if(me.indexOf(t(ge),fe)!=fe){var Ke=ye.lastIndexOf(ge);Ke>-1&&(ye=ye.slice(0,Ke))}return ye+le}W.exports=Te},44908:(W,w,s)=>{var t=s(45652);function h(N){return N&&N.length?t(N):[]}W.exports=h},2407:(W,w,s)=>{"use strict";s.d(w,{$:()=>S,O:()=>r});var t=s(85893),h=s(71893),N=s(41363),v=s(75515),f=s(41580),B=s(11047),T=s(63237);const z=(0,h.default)(B.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:b})=>b.colors.neutral500};
    }
  }
  :last-of-type ${f.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:b})=>b.colors.neutral800};
    font-weight: ${({theme:b})=>b.fontWeights.bold};
  }
`,S=({children:b})=>(0,t.jsxs)(z,{inline:!0,as:"li",children:[(0,t.jsx)(v.Z,{variant:"pi",textColor:"neutral600",children:b}),(0,t.jsx)(f.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,t.jsx)(N.ChevronRight,{})})]});S.displayName="Crumb";const r=({children:b,label:Y,...Te})=>(0,t.jsxs)(B.k,{...Te,children:[(0,t.jsx)(T.T,{children:Y}),(0,t.jsx)("ol",{"aria-hidden":!0,children:b})]});r.displayName="Breadcrumbs"},38855:(W,w,s)=>{"use strict";s.d(w,{h:()=>Ve,X:()=>xe});var t=s(67294),h=s(45697),N=s(41363),v=s(14085),f=s(70389),B=s(7801);const T={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},z={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function S(q=[],U=null,G=[]){const Oe=String(U??"").toLowerCase();return Oe?q.filter(Ee=>Ee.props.children.toString().toLowerCase().includes(Oe)&&G.indexOf(Ee)<0):q}function r(q,U){if(!U&&q===B.y.DOWN)return T.Open;if(q===B.y.DOWN)return T.Next;if(q===B.y.UP)return T.Previous;if(q===B.y.HOME)return T.First;if(q===B.y.END)return T.Last;if(q===B.y.ESCAPE)return T.Close;if(q===B.y.ENTER)return T.CloseSelect;if(q===B.y.BACKSPACE||q===B.y.CLEAR||q.length===1)return T.Type}function b(q,U,G){switch(G){case T.First:return 0;case T.Last:return U;case T.Previous:return Math.max(0,q-1);case T.Next:return Math.min(U,q+1);default:return q}}function Y(q){(0,f.Z)(q,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:U,top:G,left:Oe})=>{U.scrollTop=G,U.scrollLeft=Oe})}var Te=s(11047),me=s(81318),pe=s(88533),ae=s(41580),le=s(75515),ge=s(88655),he=s(74020),u=s(90608),fe=s(54574),ye=s(64777),k=s(63428),et=s(96404),tt=s(7681),Ke=s(63237);const Ve=({children:q,clearLabel:U,creatable:G,createMessage:Oe,disabled:Ee,error:it,hasMoreItems:Yt,hint:ft,id:nt,label:je,labelAction:be,loading:Re,loadingMessage:He,noOptionsMessage:jt,onChange:zt,onClear:ze,onCreateOption:Jt,onInputChange:yt,onLoadMore:Qt,placeholder:re,required:_t,value:qe,...Ft})=>{const ht=()=>q.find(Q=>Q.props?.value.toLowerCase()===qe.toLowerCase()).props?.children,[Ae,lt]=(0,t.useState)(0),[$e,Yn]=(0,t.useState)(null),[De,bt]=(0,t.useState)(q),[Je,Jn]=(0,t.useState)(!1),[Ze,dt]=(0,t.useState)(""),ut=(0,t.useRef)(),vt=(0,t.useRef)(!1),ct=(0,t.useRef)(),Bt=(0,t.useRef)(),mt=(0,t.useRef)(),Nt=(0,t.useRef)(!0),Fe=(0,v.M)(nt),en=`${Fe}-label`;if(!je&&!Ft["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,t.useEffect)(()=>{bt(S(q,Ze))},[Ze,q]),(0,t.useEffect)(()=>{Je&&ut.current&&Y(ut.current)},[Ae,Je]),(0,t.useLayoutEffect)(()=>{Nt.current&&(Nt.current=!1)},[qe]);const Ct=Je?`${Fe}-${Ae}`:"",Tt=()=>{zt(null),dt("")},Qe=Q=>{yt&&yt(Q);const de=ct.current.value;bt(S(q,de)),lt(0),Yn(null),Ze!==de&&dt(de),Je||Ge(!0,!1)},tn=Q=>{const{key:de}=Q,Be=G&&Ze?De.length:De.length-1,Xe=r(de,Je);switch(qe&&!Ze&&de===B.y.BACKSPACE&&Tt(),Xe){case T.Next:{if(Ae===Be){_e(0);break}_e(b(Ae,Be,Xe));break}case T.Previous:{if(Ae===0){_e(Be);break}_e(b(Ae,Be,Xe));break}case T.Last:case T.First:{if(Ae===Be){_e(0);break}_e(b(Ae,Be,Xe));break}case T.CloseSelect:Q.preventDefault(),Et(Ae);break;case T.Close:Q.preventDefault(),Ge(!1);break;case T.Open:Ge(!0);break}},nn=Q=>{if(Q.preventDefault(),qe&&!vt.current&&dt(""),vt.current){vt.current=!1;return}Ge(!1,!1)},_e=Q=>{lt(Q)},Qn=Q=>{_e(Q),Et(Q)},kt=()=>{vt.current=!0},Et=Q=>{const de=De[Q];if(dt(""),de){zt(de.props.value),Ge(!1);return}G&&(Jt(Ze),Ge(!1))},Ge=(Q,de=!0)=>{Jn(Q),de&&ct.current.focus()},_n=t.Children.toArray(De).map((Q,de)=>{const Be=Ae===de;return(0,t.cloneElement)(Q,{id:`${Fe}-${de}`,"aria-selected":$e===de,"aria-posinset":de+1,"aria-setsize":t.Children.toArray(De).length,ref(Xe){Be&&(ut.current=Xe)},onClick:()=>Qn(de),onMouseDown:kt,isSelected:Be})}),an=()=>{ct.current.focus(),ze&&ze(),Tt()},Ut=()=>{ct.current.focus(),Ge(!0)},rn=()=>{const Q=De.findIndex(de=>de.props?.children===Ze);return Ze&&Q===-1},sn=Q=>{Q.preventDefault(),Ge(Q,!0)};let pt;return it?pt=`${Fe}-error`:ft&&(pt=`${Fe}-hint`),t.createElement(fe.g,{hint:ft,error:it,id:Fe,required:_t},t.createElement(Ke.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},qe),t.createElement(tt.K,{spacing:je||ft||it?1:0},je&&t.createElement(ye.Q,{action:be},je),t.createElement(he.d8,{ref:Bt,$disabled:Ee,hasError:it},t.createElement(he.fv,{wrap:"wrap"},!Ze&&qe&&t.createElement(he.K7,{id:`${Fe}-selected-value`},t.createElement(le.Z,null,ht())),t.createElement(he.II,{"aria-activedescendant":Ct,"aria-autocomplete":"list","aria-controls":`${Fe}-listbox`,"aria-disabled":Ee,"aria-expanded":Je,"aria-haspopup":"listbox","aria-describedby":pt,autoComplete:"off",autoCorrect:"off",id:Fe,onBlur:Ee?void 0:nn,onClick:Ee?void 0:sn,onInput:Ee?void 0:Qe,onKeyDown:Ee?void 0:tn,placeholder:qe?"":re,readOnly:Ee,ref:ct,required:_t,role:"combobox",spellCheck:"off",type:"text",value:Ze})),t.createElement(Te.k,null,(qe||Ze)&&t.createElement(me.zb,{id:`${Fe}-clear`,"aria-label":U,disabled:Ee,paddingLeft:3,as:"button",onClick:an,type:"button"},t.createElement(N.Cross,null)),t.createElement(me.AV,{disabled:Ee,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:Ut,tabIndex:-1,type:"button"},t.createElement(N.CarretDown,null)))),t.createElement(k.J,null),t.createElement(et.c,null)),Je&&t.createElement(pe.J2,{id:`${Fe}-popover`,source:Bt,spacing:4,fullWidth:!0,intersectionId:`${Fe}-listbox-popover-intersection`,onReachEnd:Yt&&!Re?Qt:void 0},t.createElement("div",{role:"listbox",ref:mt,id:`${Fe}-listbox`,"aria-labelledby":je?en:void 0},(Boolean(De.length)||G)&&t.createElement(t.Fragment,null,_n,rn()&&G&&t.createElement(u.O,{isSelected:Ae===De.length,ref:Q=>{Ae===De.length&&(ut.current=Q)},onMouseDown:kt,onClick:()=>Et(),taindex:0},Oe(Ze))),!De.length&&!G&&!Re&&t.createElement(ae.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:ut},t.createElement(le.Z,{textColor:"neutral800"},jt(Ze))),Re&&t.createElement(Te.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},t.createElement(ge.a,{small:!0},He)))))},xe=q=>t.createElement(Ve,{...q,creatable:!0});Ve.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:q=>`Create "${q}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},xe.defaultProps=Ve.defaultProps,Ve.propTypes={"aria-label":h.string,children:h.oneOfType([h.arrayOf(h.node),h.node]),clearLabel:h.string,creatable:h.bool,createMessage:h.func,disabled:h.bool,error:h.string,hasMoreItems:h.bool,id:h.string,hint:h.oneOfType([h.string,h.node,h.arrayOf(h.node)]),label:h.string,labelAction:h.element,loading:h.bool,loadingMessage:h.string,noOptionsMessage:h.func,onChange:h.func.isRequired,onClear:h.func,onCreateOption:h.func,onInputChange:h.func,onLoadMore:h.func,placeholder:h.string,value:h.string},xe.propTypes={...Ve.propTypes,onCreateOption:h.func.isRequired}},90608:(W,w,s)=>{"use strict";s.d(w,{O:()=>f});var t=s(67294),h=s(45697),N=s(75515),v=s(74020);const f=(0,t.forwardRef)(({isSelected:B,children:T,...z},S)=>t.createElement(v.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:B,ref:S,...z},t.createElement(N.Z,{textColor:B?"primary600":"neutral800",fontWeight:B?"bold":null},T)));f.defaultProps={isSelected:!1},f.propTypes={children:h.oneOfType([h.string,h.number]).isRequired,isSelected:h.bool},f.displayName="ComboboxOption"},74020:(W,w,s)=>{"use strict";s.d(w,{II:()=>z,K7:()=>B,Zq:()=>S,d8:()=>f,fv:()=>T});var t=s(71893),h=s(41580),N=s(11047),v=s(15585);const f=(0,t.default)(N.k)`
  position: relative;
  border: 1px solid ${({theme:r,hasError:b})=>b?r.colors.danger600:r.colors.neutral200};
  padding-right: ${({theme:r})=>r.spaces[3]};
  padding-left: ${({theme:r})=>r.spaces[3]};
  border-radius: ${({theme:r})=>r.borderRadius};
  background: ${({theme:r})=>r.colors.neutral0};

  ${({theme:r,$disabled:b})=>b?`
    color: ${r.colors.neutral600};
    background: ${r.colors.neutral150};
  `:void 0}

  ${(0,v.k3)()}
`,B=t.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,T=(0,t.default)(N.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,z=t.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:r})=>r.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,S=(0,t.default)(h.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:r,theme:b})=>r&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:r})=>r.colors.primary100};
  }
`},39785:(W,w,s)=>{"use strict";s.d(w,{A:()=>Y});var t=s(85893),h=s(67294),N=s(71893),v=s(41363),f=s(41580),B=s(75515),T=s(11047),z=s(15585);const S=N.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,r=N.default.div`
  animation: ${S} 2s infinite linear;
  will-change: transform;
`,b=(0,N.default)(T.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:Te})=>Te.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:Te})=>Te.colors.primary600};
  }

  ${z.BF}
`,Y=h.forwardRef(({children:Te,startIcon:me,endIcon:pe,onClick:ae,disabled:le=!1,loading:ge=!1,...he},u)=>{const fe=ae&&!le?ae:void 0,ye=le||ge;return(0,t.jsxs)(b,{ref:u,"aria-disabled":ye,onClick:fe,as:"button",type:"button",...he,children:[(me||ge)&&(0,t.jsx)(f.x,{as:"span",paddingRight:2,"aria-hidden":!0,children:ge?(0,t.jsx)(r,{children:(0,t.jsx)(v.Loader,{})}):me}),(0,t.jsx)(B.Z,{variant:"pi",textColor:ye?"neutral600":"primary600",children:Te}),pe&&(0,t.jsx)(f.x,{as:"span",paddingLeft:2,"aria-hidden":!0,children:pe})]})});Y.displayName="TextButton"}}]);
