"use strict";(self.webpackChunkecommerce_cloth=self.webpackChunkecommerce_cloth||[]).push([[6750],{89838:(I,E,a)=>{a.r(E),a.d(E,{default:()=>f});var e=a(67294),v=a(49656),o=a(68547),m=a(15627),u=a.n(m),l=a(28702),x=a(67838),A=a(75515),L=a(19306),R=a(16364),h=a(41363),C=a(11817);const g=C.Z.create({baseURL:"http://bugsmakersteam.pp.ua:1337"});g.interceptors.request.use(async n=>(n.headers={Authorization:`Bearer ${o.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},n),n=>{Promise.reject(n)}),g.interceptors.response.use(n=>n,n=>{throw n.response?.status===401&&(o.auth.clearAppStorage(),window.location.reload()),n});const r=g;var i=a(25108);const s=()=>{const[n,p]=(0,e.useState)({creds:{clientID:"",clientSecret:"",redirectURL:"",defaultScopes:""}}),[D,y]=(0,e.useState)(!1),[b,S]=(0,e.useState)(!0);function B(t){p({creds:{clientID:t,clientSecret:n.creds.clientSecret,redirectURL:n.creds.redirectURL}})}function T(t){p({creds:{clientID:n.creds.clientID,clientSecret:t,redirectURL:n.creds.redirectURL}})}function U(t){p({creds:{clientID:n.creds.clientID,clientSecret:n.creds.clientSecret,redirectURL:t}})}function P(t){p({creds:{clientID:n.creds.clientID,clientSecret:n.creds.clientSecret,redirectURL:n.creds.redirectURL,defaultScopes:t}})}async function w(){try{const{data:t}=await r.get(`/${u()}/credentials`);p({creds:{clientID:t.google_client_id?t.google_client_id:"",clientSecret:t.google_client_secret?t.google_client_secret:"",redirectURL:t.google_redirect_url?t.google_redirect_url:"",defaultScopes:t.google_scopes?t.google_scopes:""}}),t&&t.google_client_id&&t.google_client_secret&&t.google_redirect_url&&t.google_scopes?S(!1):S(!0)}catch(t){i.log(t),p({creds:{clientID:"",clientSecret:"",redirectURL:"",defaultScopes:""}}),S(!0)}}async function j(t){t.preventDefault(),t.stopPropagation(),y(!0);try{await r.post(`/${u()}/credentials/add`,{google_client_id:n.creds.clientID,google_client_secret:n.creds.clientSecret,google_redirect_url:n.creds.redirectURL,google_scopes:n.creds.defaultScopes}),await w(),y(!1)}catch(z){y(!1),i.log(z)}}function k(t){t.preventDefault(),t.stopPropagation(),S(!0)}return(0,e.useEffect)(()=>{w()},[]),e.createElement("div",null,e.createElement(l.Box,{padding:8,background:"primary100"},e.createElement(x.A,{navigationAction:e.createElement(l.Link,{isExternal:!0,href:"https://schbang.com"},"Schbang."),primaryAction:e.createElement(l.LinkButton,{startIcon:e.createElement(h.Plus,null),size:"L",variant:"default",href:"https://console.cloud.google.com/projectcreate?previousPage=%2Fcloud-resource-manager%3Fproject%3D%26folder%3D%26organizationId%3D"},"Create Google Project"),title:"Google Authenticator",subtitle:"By Schbang.",as:"h2"})),e.createElement(l.Box,{padding:8,background:"neutral100"},e.createElement(l.Box,{padding:4},e.createElement(A.Z,{variant:"beta"},"Add/Update your Google Project Details.")),e.createElement(L.M,null,e.createElement(l.Box,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(R.o,{required:!0,disabled:!b,placeholder:"This is a content placeholder",label:"Google Client ID",name:"content",hint:"Ends with apps.googleusercontent.com",onChange:t=>B(t.target.value),value:n.creds.clientID})),e.createElement(l.Box,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(R.o,{required:!0,type:"password",disabled:!b,placeholder:"This is a content placeholder",label:"Google Client Secret",name:"content",hint:"Available in your google project",onChange:t=>T(t.target.value),value:n.creds.clientSecret})),e.createElement(l.Box,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(R.o,{required:!0,disabled:!b,placeholder:"This is a content placeholder",label:"Redirect URL",name:"content",hint:"Redirect URL mentioned in the Google Project",onChange:t=>U(t.target.value),value:n.creds.redirectURL}))),e.createElement(L.M,null,e.createElement(l.Box,{padding:4,marginTop:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(l.Textarea,{required:!0,disabled:!b,placeholder:"",label:"Default Scopes",name:"content",hint:'{"scopes":["https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"]}',onChange:t=>P(t.target.value),value:n.creds.defaultScopes}))),e.createElement(l.Flex,{marginTop:4,justifyContent:"space-between"},e.createElement(l.Button,{disabled:b,onClick:k,size:"L",endIcon:e.createElement(h.Write,null),variant:"secondary"},"Edit"),e.createElement(l.Button,{loading:D,onClick:j,size:"L",endIcon:e.createElement(h.Lock,null),variant:"default"},"Save Credentials"))))},c=(0,e.memo)(s),f=()=>e.createElement("div",null,e.createElement(v.Switch,null,e.createElement(v.Route,{path:`/plugins/${u()}`,component:c,exact:!0}),e.createElement(v.Route,{component:o.NotFound})))},19306:(I,E,a)=>{a.d(E,{M:()=>o});var e=a(45697),v=a(71893);const o=v.default.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:m})=>m.spaces[4]};
`;o.propTypes={children:e.node.isRequired}},67838:(I,E,a)=>{a.d(E,{A:()=>g,T:()=>h});var e=a(67294),v=a(71893),o=a(45697),m=a(75515),u=a(41580),l=a(11047);const x=r=>{const i=(0,e.useRef)(null),[s,c]=(0,e.useState)(!0),d=([f])=>{c(f.isIntersecting)};return(0,e.useEffect)(()=>{const f=i.current,n=new IntersectionObserver(d,r);return f&&n.observe(i.current),()=>{f&&n.disconnect()}},[i,r]),[i,s]};var A=a(98402);const L=(r,i)=>{const s=(0,A.useCallbackRef)(i);(0,e.useLayoutEffect)(()=>{const c=new ResizeObserver(s);return Array.isArray(r)?r.forEach(d=>{d.current&&c.observe(d.current)}):r.current&&c.observe(r.current),()=>{c.disconnect()}},[r,s])},R=()=>{const r=(0,e.useRef)(null),[i,s]=(0,e.useState)(null),[c,d]=x({root:null,rootMargin:"0px",threshold:0});return L(c,()=>{c.current&&s(c.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{r.current&&s(r.current.getBoundingClientRect())},[r]),{containerRef:c,isVisible:d,baseHeaderLayoutRef:r,headerSize:i}},h=r=>{const{containerRef:i,isVisible:s,baseHeaderLayoutRef:c,headerSize:d}=R();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:d?.height},ref:i},s&&e.createElement(g,{ref:c,...r})),!s&&e.createElement(g,{...r,sticky:!0,width:d?.width}))};h.displayName="HeaderLayout";const C=(0,v.default)(u.x)`
  width: ${r=>r.width}px;
`,g=e.forwardRef(({navigationAction:r,primaryAction:i,secondaryAction:s,subtitle:c,title:d,sticky:f,width:n,...p},D)=>{const y=typeof c=="string";return f?e.createElement(C,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:n,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(l.k,{justifyContent:"space-between"},e.createElement(l.k,null,r&&e.createElement(u.x,{paddingRight:3},r),e.createElement(u.x,null,e.createElement(m.Z,{variant:"beta",as:"h1",...p},d),y?e.createElement(m.Z,{variant:"pi",textColor:"neutral600"},c):c),s?e.createElement(u.x,{paddingLeft:4},s):null),e.createElement(l.k,null,i?e.createElement(u.x,{paddingLeft:2},i):void 0))):e.createElement(u.x,{ref:D,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:r?6:8,background:"neutral100","data-strapi-header":!0},r?e.createElement(u.x,{paddingBottom:2},r):null,e.createElement(l.k,{justifyContent:"space-between"},e.createElement(l.k,null,e.createElement(m.Z,{as:"h1",variant:"alpha",...p},d),s?e.createElement(u.x,{paddingLeft:4},s):null),i),y?e.createElement(m.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},c):c)});g.displayName="BaseHeaderLayout",g.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},g.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,sticky:o.bool,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired,width:o.number},h.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},h.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired}}}]);
