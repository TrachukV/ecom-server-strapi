(self.webpackChunkecommerce_cloth=self.webpackChunkecommerce_cloth||[]).push([[8880],{66848:(W,q,s)=>{"use strict";s.d(q,{Z:()=>Ve});var t=s(67294),y=s(71893),S=s(45697),v=s.n(S),g=s(41580),j=s(85038),C=s(85893);function B(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,C.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"})]})}var N=s(34668),r=s(14484),b=s(65531),O=s(73145),de=s(82574),ie=s(60133);function ae(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"})]})}var Q=s(74525);function se(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,C.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"})]})}var oe=s(48394);function ge(Re){return(0,C.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Re,children:[(0,C.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,C.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"})]})}var u=s(21210),ue=s(3963),ce=s(31666),k=s(68547);const Qe={biginteger:ce.Z,boolean:r.Z,collectionType:B,component:j.Z,contentType:B,date:N.Z,datetime:N.Z,decimal:ce.Z,dynamiczone:b.Z,email:O.Z,enum:de.Z,enumeration:de.Z,file:Q.Z,files:Q.Z,float:ce.Z,integer:ce.Z,json:ie.Z,JSON:ie.Z,media:Q.Z,number:ce.Z,password:se,relation:oe.Z,richtext:ae,singleType:ge,string:u.Z,text:u.Z,time:N.Z,timestamp:N.Z,uid:ue.Z},_e=(0,y.default)(g.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ke=({type:Re,customField:K,...w})=>{const X=(0,k.useCustomFields)();let Oe=Qe[Re];if(K){const{icon:Me}=X.get(K);Me&&(Oe=Me)}return Qe[Re]?t.createElement(_e,{height:(0,k.pxToRem)(24),width:(0,k.pxToRem)(32),shrink:0,...w,"aria-hidden":!0},t.createElement(g.x,{as:Oe})):null};Ke.defaultProps={customField:null},Ke.propTypes={type:v().string.isRequired,customField:v().string};const Ve=Ke},7955:(W,q,s)=>{"use strict";s.d(q,{Z:()=>S});var t=s(67294);const S=(0,t.createContext)()},98422:(W,q,s)=>{"use strict";s.d(q,{Z:()=>S});var t=s(67294);const S=(0,t.createContext)()},13588:(W,q,s)=>{"use strict";s.d(q,{Z:()=>v});var t=s(67294),y=s(7955);const v=()=>(0,t.useContext)(y.Z)},26478:(W,q,s)=>{"use strict";s.d(q,{Z:()=>v});var t=s(67294),y=s(98422);const v=()=>(0,t.useContext)(y.Z)},26807:(W,q,s)=>{"use strict";s.r(q),s.d(q,{default:()=>to});var t=s(67294),y=s(49656),S=s(15482),v=s(97132),g=s(68547),j=s(17034),C=s(57176),B=s(96124),N=s(45697),r=s.n(N),b=s(96486),O=s(37424),de=s(35281),ie=s(7955),ae=s(26478),Q=s(11817);const se=Q.Z.create({baseURL:`http://bugsmakersteam.pp.ua:1337/${B.Z}`});se.interceptors.request.use(async e=>(e.headers={Authorization:`Bearer ${g.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e),e=>{Promise.reject(e)}),se.interceptors.response.use(e=>e,e=>{throw e.response?.status===401&&(g.auth.clearAppStorage(),window.location.reload()),e});const ge=(0,g.wrapAxiosInstance)(se);var u=s(5002),ue=s(85169),ce=s(27361),k=s.n(ce),Qe=s(18721),_e=s.n(Qe),Ke=s(36968),Ve=s.n(Ke),Re=s(7334),K=s.n(Re),w=s(41580),X=s(29728),Oe=s(70004),Me=s(42866),st=s(59946),Yt=s(36856),pt=s(82777),et=s(60633),Ie=s(42761),Ce=s(11047),Ae=s(7681),He=s(13588),$t=s(38953),It=s(11700),je=s.n(It);const Jt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],gt=({intlLabel:e,name:n,onChange:a,value:i})=>{const{formatMessage:o}=(0,v.useIntl)(),l=i===null||i.length===0?o({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>je()(c)).join(", "),d=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):n;return t.createElement($t.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?a({target:{name:n,value:c,type:"allowed-types-select"}}):a({target:{name:n,value:null,type:"allowed-types-select"}})},options:Jt,value:i||[]})};gt.defaultProps={value:null},gt.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const Qt=gt;var be=s(75515);const we=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var At=s(11276),ft=s(74571),Ze=s(17373),ot=s(66848),Be=s(71893);const De=(0,Be.default)(w.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,yt=({type:e})=>{const{formatMessage:n}=(0,v.useIntl)(),{onClickSelectField:a}=(0,ae.Z)(),i=()=>{a({attributeType:e,step:e==="component"?"1":null})};return t.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(Ce.k,null,t.createElement(ot.Z,{type:e}),t.createElement(w.x,{paddingLeft:4},t.createElement(Ce.k,null,t.createElement(be.Z,{fontWeight:"bold"},n({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(Ce.k,null,t.createElement(be.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};yt.defaultProps={type:"text"},yt.propTypes={type:r().string};const Ye=yt,Se=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}},it=({attributes:e})=>t.createElement(Ze.k,{tagName:"button"},t.createElement(Ae.K,{spacing:8},e.map((n,a)=>t.createElement(At.r,{key:a,gap:0},n.map((i,o)=>{const{paddingLeft:l,paddingRight:d}=Se(o);return t.createElement(ft.P,{key:i,col:6,style:{height:"100%"}},t.createElement(w.x,{paddingLeft:l,paddingRight:d,paddingBottom:1,style:{height:"100%"}},t.createElement(Ye,{type:i})))})))));it.propTypes={attributes:r().array.isRequired};const lt=it;var ht=s(23620),dt=s(80129),jt=s.n(dt),en=s(32064),bt=s(52624),ve=s(96315),tn=s(86031);const nn=(0,Be.default)(w.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Bt=()=>t.createElement(Ce.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>t.createElement(nn,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0}))),an=()=>{const{formatMessage:e}=(0,v.useIntl)();return t.createElement(w.x,{position:"relative"},t.createElement(Bt,null),t.createElement(w.x,{position:"absolute",top:6,width:"100%"},t.createElement(Ce.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(bt.J,{as:tn.default,color:"",width:"160px",height:"88px"}),t.createElement(w.x,{paddingTop:6,paddingBottom:4},t.createElement(w.x,{textAlign:"center"},t.createElement(be.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(w.x,{paddingTop:4},t.createElement(be.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(en.Q,{to:`/marketplace?${jt().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(ve.default,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},zt=({customFieldUid:e,customField:n})=>{const{type:a,intlLabel:i,intlDescription:o}=n,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:d}=(0,ae.Z)(),c=()=>{d({attributeType:a,customFieldUid:e})};return t.createElement(De,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},t.createElement(Ce.k,null,t.createElement(ot.Z,{type:a,customField:e}),t.createElement(w.x,{paddingLeft:4},t.createElement(Ce.k,null,t.createElement(be.Z,{fontWeight:"bold"},l(i))),t.createElement(Ce.k,null,t.createElement(be.Z,{variant:"pi",textColor:"neutral600"},l(o))))))};zt.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const Je=zt,Ut=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=(0,g.useCustomFields)(),a=Object.entries(n.getAll());if(!a.length)return t.createElement(an,null);const i=a.sort((o,l)=>o[1].name>l[1].name?1:-1);return t.createElement(Ze.k,{tagName:"button"},t.createElement(Ae.K,{spacing:3},t.createElement(At.r,{gap:0},i.map(([o,l],d)=>{const{paddingLeft:c,paddingRight:p}=Se(d);return t.createElement(ft.P,{key:o,col:6,style:{height:"100%"}},t.createElement(w.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(Je,{key:o,customFieldUid:o,customField:l})))})),t.createElement(ht.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},vt=({attributes:e,forTarget:n,kind:a})=>{const{formatMessage:i}=(0,v.useIntl)(),o=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),d=n.includes("component")?"component":a,c=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${d}`);return t.createElement(st.f,{padding:6},t.createElement(pt.v,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(Ce.k,{justifyContent:"space-between"},t.createElement(be.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),t.createElement(et.m,null,t.createElement(et.O,null,i({id:o,defaultMessage:"Default"})),t.createElement(et.O,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(w.x,{paddingBottom:6},t.createElement(Oe.i,null)),t.createElement(Ie.n,null,t.createElement(Ie.x,null,t.createElement(lt,{attributes:e})),t.createElement(Ie.x,null,t.createElement(Ut,null)))))};vt.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const Ge=vt;var rn=s(28702);const Zt=({description:e,disabled:n,intlLabel:a,isCreating:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),[p,h]=(0,t.useState)(!1),f=a.id?c({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):o,m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=()=>h(U=>!U),x=()=>{l({target:{name:o,value:!1}}),R()},D=({target:{checked:U}})=>{if(!U&&!i){R();return}l({target:{name:o,value:U}})};return t.createElement(t.Fragment,null,t.createElement(rn.Checkbox,{checked:d,disabled:n,hint:m,name:o,onChange:D},f),t.createElement(g.ConfirmDialog,{isOpen:p,onToggleDialog:R,onConfirm:x,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Zt.defaultProps={description:null,disabled:!1,value:!1},Zt.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const sn=Zt;var St=s(2407),kt=s(24969);const ut=({actionType:e,attributeName:n,attributeType:a,categoryName:i,contentTypeKind:o,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:p,customFieldUid:h})=>{const{formatMessage:f}=(0,v.useIntl)(),{modifiedData:m}=(0,He.Z)();let R,x=[];const D=m?.[d]?.[p]||m?.[d]||null;let U=D?.schema.displayName;if(c==="contentType"&&(R=o),["component","editCategory"].includes(c)&&(R="component"),["component","contentType"].includes(c)){let T=(0,u.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(T=(0,u.Z)(`modalForm.${o}.header-create`)),e==="edit"&&(T=(0,u.Z)("modalForm.header-edit")),t.createElement(kt.x,null,t.createElement(Ce.k,null,t.createElement(w.x,null,t.createElement(ot.Z,{type:R})),t.createElement(w.x,{paddingLeft:3},t.createElement(be.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},f({id:T},{name:U})))))}x=[{label:U,info:{category:D?.category||null,name:D?.schema.displayName}}],c==="chooseAttribute"&&(R=["component","components"].includes(d)?"component":D.schema.kind),c==="addComponentToDynamicZone"&&(R="dynamiczone",x.push({label:l})),(c==="attribute"||c==="customField")&&(R=a,x.push({label:n})),c==="editCategory"&&(x=[{label:f({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const Z=x.map(({label:T})=>T).join(",");return t.createElement(kt.x,null,t.createElement(Ae.K,{horizontal:!0,spacing:3},t.createElement(ot.Z,{type:R,customField:h}),t.createElement(St.O,{label:Z},x.map((T,F)=>{const G=je()(T.label);if(!G)return null;const te=`${T.label}.${F}`;if(T.info?.category){const ye=`${G} (${je()(T.info.category)} - ${je()(T.info.name)})`;return t.createElement(St.$,{key:te},ye)}return t.createElement(St.$,{key:te},G)}))))};ut.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},ut.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const _=ut,fe=({categoryName:e,deleteCategory:n,deleteComponent:a,deleteContentType:i,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:h,isCreatingComponentAttribute:f,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:R,isCreatingContentType:x,isCreatingDz:D,isComponentModal:U,isDzAttribute:H,isEditingAttribute:Z,isEditingCategory:T,isInFirstComponentStep:F,onSubmitAddComponentAttribute:G,onSubmitAddComponentToDz:te,onSubmitCreateContentType:ye,onSubmitCreateComponent:A,onSubmitCreateDz:re,onSubmitEditAttribute:ne,onSubmitEditCategory:mt,onSubmitEditComponent:pe,onSubmitEditContentType:J,onSubmitEditCustomFieldAttribute:he,onSubmitEditDz:Nt,onClickFinish:nt})=>{const{formatMessage:le}=(0,v.useIntl)();return c?m?t.createElement(X.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),te(P,!0)},startIcon:t.createElement(ve.default,null)},le({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(X.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),te(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"})):o&&H&&!D?t.createElement(X.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),nt(),Nt(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"})):o&&H&&D?t.createElement(t.Fragment,null,t.createElement(X.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),re(P,!0)},startIcon:t.createElement(ve.default,null)},le({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):o&&d?F?t.createElement(X.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),G(P,!0)}},le(f?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(X.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),G(P,!0)},startIcon:t.createElement(ve.default,null)},le(R?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(X.z,{variant:"default",type:"button",onClick:P=>{P.preventDefault(),nt(),G(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"}))):o&&!d&&!H?t.createElement(t.Fragment,null,t.createElement(X.z,{type:Z?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ne(P,!0)},startIcon:t.createElement(ve.default,null)},le({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(X.z,{type:Z?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),nt(),ne(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!x&&t.createElement(t.Fragment,null,t.createElement(X.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),i()}},le({id:"global.delete",defaultMessage:"Delete"})),t.createElement(X.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),J(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"}))),x&&t.createElement(X.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ye(P,!0)}},le({id:"global.continue",defaultMessage:"Continue"}))):U?t.createElement(t.Fragment,null,!h&&t.createElement(t.Fragment,null,t.createElement(X.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),a()}},le({id:"global.delete",defaultMessage:"Delete"})),t.createElement(X.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),pe(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"}))),h&&t.createElement(X.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),A(P,!0)}},le({id:"global.continue",defaultMessage:"Continue"}))):T?t.createElement(t.Fragment,null,t.createElement(X.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),n(e)}},le({id:"global.delete",defaultMessage:"Delete"})),t.createElement(X.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),mt(P)}},le({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(X.z,{type:Z?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),he(P,!0)},startIcon:t.createElement(ve.default,null)},le({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(X.z,{type:Z?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),nt(),he(P,!1)}},le({id:"global.finish",defaultMessage:"Finish"}))):null};fe.defaultProps={categoryName:null,onClickFinish(){}},fe.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const qe=fe,Qa=({modalType:e,forTarget:n,kind:a,actionType:i,step:o})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":a||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${o!=="null"&&o!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},on=({actionType:e,modalType:n,forTarget:a,kind:i,step:o,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:p}=(0,v.useIntl)(),h=n==="customField"?c.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(Ae.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(be.Z,{as:"h2",variant:"beta"},p({id:Qa({actionType:e,forTarget:a,kind:i,step:o,modalType:n}),defaultMessage:"Add new field"},{type:je()(p(h)),name:je()(d),step:o})),t.createElement(be.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};on.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},on.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const _a=on;var wt=s(91216),qt=s(82562);const ln=({intlLabel:e,name:n,options:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,c=p=>{let h="";p==="true"&&(h=!0),p==="false"&&(h=!1),i({target:{name:n,value:h,type:"select-default-boolean"}})};return t.createElement(wt.P,{label:d,id:n,name:n,onChange:c,value:(o===null?"":o).toString()},a.map(({metadatas:{intlLabel:p,disabled:h,hidden:f},key:m,value:R})=>t.createElement(qt.W,{key:m,value:R,disabled:h,hidden:f},p.defaultMessage)))};ln.defaultProps={value:null},ln.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const er=ln;var tr=s(15585);const nr=(0,Be.default)(Ae.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,tr.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${be.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,dn=({intlLabel:e,name:n,onChange:a,radios:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)();return t.createElement(Ae.K,{spacing:2},t.createElement(be.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},l(e)),t.createElement(nr,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(d=>t.createElement("label",{htmlFor:d.value.toString(),key:d.value,className:"container"},t.createElement("input",{id:d.value.toString(),name:n,className:"option-input",checked:d.value===o,value:d.value,key:d.value,onChange:a,type:"radio"}),t.createElement(w.x,{className:"option",padding:4},t.createElement(Ce.k,null,t.createElement(w.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(Ae.K,{spacing:2},t.createElement(be.Z,{fontWeight:"bold"},l(d.title)),t.createElement(be.Z,{variant:"pi",textColor:"neutral600"},l(d.description)))))))))};dn.defaultProps={radios:[]},dn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const un=dn,_n=({onChange:e,name:n,...a})=>{const i=o=>{const l=o.target.value!=="false";e({target:{name:n,value:l,type:"boolean-radio-group"}})};return t.createElement(un,{...a,name:n,onChange:i})};_n.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const ar=_n;var rr=s(36213),cn=s(41363),sr=s(25108);let mn=new Map,pn=!1;try{pn=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Wt=!1;try{Wt=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ea={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class or{format(n){let a="";if(!pn&&this.options.signDisplay!=null?a=lr(this.numberFormatter,this.options.signDisplay,n):a=this.numberFormatter.format(n),this.options.style==="unit"&&!Wt){var i;let{unit:o,unitDisplay:l="short",locale:d}=this.resolvedOptions(),c=(i=ea[o])===null||i===void 0?void 0:i[l];a+=c[d]||c.default}return a}formatToParts(n){return this.numberFormatter.formatToParts(n)}formatRange(n,a){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(n,a);if(a<n)throw new RangeError("End date must be >= start date");return`${this.format(n)} \u2013 ${this.format(a)}`}formatRangeToParts(n,a){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(n,a);if(a<n)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(n),o=this.numberFormatter.formatToParts(a);return[...i.map(l=>({...l,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...o.map(l=>({...l,source:"endRange"}))]}resolvedOptions(){let n=this.numberFormatter.resolvedOptions();return!pn&&this.options.signDisplay!=null&&(n={...n,signDisplay:this.options.signDisplay}),!Wt&&this.options.style==="unit"&&(n={...n,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),n}constructor(n,a={}){this.numberFormatter=ir(n,a),this.options=a}}function ir(e,n={}){let{numberingSystem:a}=n;if(a&&e.indexOf("-u-nu-")===-1&&(e=`${e}-u-nu-${a}`),n.style==="unit"&&!Wt){var i;let{unit:d,unitDisplay:c="short"}=n;if(!d)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=ea[d])===null||i===void 0)&&i[c]))throw new Error(`Unsupported unit ${d} with unitDisplay = ${c}`);n={...n,style:"decimal"}}let o=e+(n?Object.entries(n).sort((d,c)=>d[0]<c[0]?-1:1).join():"");if(mn.has(o))return mn.get(o);let l=new Intl.NumberFormat(e,n);return mn.set(o,l),l}function lr(e,n,a){if(n==="auto")return e.format(a);if(n==="never")return e.format(Math.abs(a));{let i=!1;if(n==="always"?i=a>0||Object.is(a,0):n==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let o=e.format(-a),l=e.format(a),d=o.replace(l,"").replace(/\u200e|\u061C/,"");return[...d].length!==1&&sr.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(l,"!!!").replace(d,"+").replace("!!!",l)}else return e.format(a)}}const dr=new RegExp("^.*\\(.*\\).*$"),ur=["latn","arab","hanidec"];class cr{parse(n){return gn(this.locale,this.options,n).parse(n)}isValidPartialNumber(n,a,i){return gn(this.locale,this.options,n).isValidPartialNumber(n,a,i)}getNumberingSystem(n){return gn(this.locale,this.options,n).options.numberingSystem}constructor(n,a={}){this.locale=n,this.options=a}}const ta=new Map;function gn(e,n,a){let i=na(e,n);if(!e.includes("-nu-")&&!i.isValidPartialNumber(a)){for(let o of ur)if(o!==i.options.numberingSystem){let l=na(e+(e.includes("-u-")?"-nu-":"-u-nu-")+o,n);if(l.isValidPartialNumber(a))return l}}return i}function na(e,n){let a=e+(n?Object.entries(n).sort((o,l)=>o[0]<l[0]?-1:1).join():""),i=ta.get(a);return i||(i=new mr(e,n),ta.set(a,i)),i}class mr{parse(n){let a=this.sanitize(n);a=Kt(a,this.symbols.group,"").replace(this.symbols.decimal,".").replace(this.symbols.minusSign,"-").replace(this.symbols.numeral,this.symbols.index);let i=a?+a:NaN;if(isNaN(i))return NaN;if(this.options.currencySign==="accounting"&&dr.test(n)&&(i=-1*i),this.options.style==="percent"){i/=100;var o;i=+i.toFixed(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2)}return i}sanitize(n){return n=n.replace(this.symbols.literals,""),n=n.replace("-",this.symbols.minusSign),this.options.numberingSystem==="arab"&&(n=n.replace(",",this.symbols.decimal),n=n.replace(String.fromCharCode(1548),this.symbols.decimal),n=Kt(n,".",this.symbols.group)),this.options.locale==="fr-FR"&&(n=Kt(n,".",String.fromCharCode(8239))),n}isValidPartialNumber(n,a=-1/0,i=1/0){return n=this.sanitize(n),n.startsWith(this.symbols.minusSign)&&a<0?n=n.slice(this.symbols.minusSign.length):this.symbols.plusSign&&n.startsWith(this.symbols.plusSign)&&i>0&&(n=n.slice(this.symbols.plusSign.length)),n.startsWith(this.symbols.group)?!1:(n=Kt(n,this.symbols.group,"").replace(this.symbols.numeral,"").replace(this.symbols.decimal,""),n.length===0)}constructor(n,a={}){this.formatter=new Intl.NumberFormat(n,a),this.options=this.formatter.resolvedOptions(),this.symbols=pr(this.formatter,this.options,a)}}const aa=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function pr(e,n,a){var i,o,l,d;let c=e.formatToParts(-10000.111),p=e.formatToParts(10000.111),h=e.formatToParts(1);var f;let m=(f=(i=c.find(A=>A.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&f!==void 0?f:"-",R=(o=p.find(A=>A.type==="plusSign"))===null||o===void 0?void 0:o.value;!R&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(R="+");let x=(l=c.find(A=>A.type==="decimal"))===null||l===void 0?void 0:l.value,D=(d=c.find(A=>A.type==="group"))===null||d===void 0?void 0:d.value,U=c.filter(A=>!aa.has(A.type)).map(A=>ra(A.value)),H=h.filter(A=>!aa.has(A.type)).map(A=>ra(A.value)),Z=[...new Set([...H,...U])].sort((A,re)=>re.length-A.length),T=Z.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${Z.join("|")}|[\\p{White_Space}]`,"gu"),F=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),G=new Map(F.map((A,re)=>[A,re])),te=new RegExp(`[${F.join("")}]`,"g");return{minusSign:m,plusSign:R,decimal:x,group:D,literals:T,numeral:te,index:A=>String(G.get(A))}}function Kt(e,n,a){return e.replaceAll?e.replaceAll(n,a):e.split(n).join(a)}function ra(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var gr=s(54574),fr=s(64777),yr=s(45377),hr=s(63428),br=s(96404),vr=s(75228),sa=s(14085),oa=s(7801);const ia="en-EN",Cr=()=>typeof navigator>"u"?ia:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:ia;var la=s(98402);function Er({prop:e,defaultProp:n,onChange:a=()=>{}}){const[i,o]=Tr({defaultProp:n,onChange:a}),l=e!==void 0,d=typeof e=="function"?e(i):e,c=l?d:i,p=(0,la.useCallbackRef)(a),h=t.useCallback(f=>{if(l){const m=typeof f=="function"?f(d):f;m!==d&&(p(m),o(f))}else o(f)},[l,d,o,p]);return[c,h]}function Tr({defaultProp:e,onChange:n}){const a=t.useState(e),[i]=a,o=t.useRef(i),l=(0,la.useCallbackRef)(n);return t.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),a}const da=Be.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,Mr="",Vt=t.forwardRef(({size:e,startAction:n,name:a,hint:i,error:o,label:l,labelAction:d,locale:c,id:p,onValueChange:h,value:f,step:m,required:R,disabled:x,...D},U)=>{const H=(0,sa.M)(p),Z=c||Cr(),T=(0,t.useRef)(new cr(Z,{style:"decimal"})),F=(0,t.useRef)(new or(Z,{maximumFractionDigits:20})),[G,te]=Er({prop(J){const he=String(f);return isNaN(he)||he!==J&&J!==""?J:he},defaultProp:Mr,onChange(J){const he=T.current.parse(J);h(isNaN(he)?void 0:he)}}),ye=J=>{te(String(J))},A=({target:{value:J}})=>{T.current.isValidPartialNumber(J)&&ye(J)},re=()=>{if(!G){ye(m);return}const J=T.current.parse(G),he=isNaN(J)?m:J+m;ye(F.current.format(he))},ne=()=>{if(!G){ye(-m);return}const J=T.current.parse(G),he=isNaN(J)?-m:J-m;ye(F.current.format(he))},mt=J=>{if(!x)switch(J.key){case oa.y.DOWN:{J.preventDefault(),ne();break}case oa.y.UP:{J.preventDefault(),re();break}}},pe=()=>{if(G){const J=T.current.parse(G),he=isNaN(J)?"":F.current.format(J);ye(he)}};return t.createElement(gr.g,{name:a,hint:i,error:o,id:H,required:R},t.createElement(Ae.K,{spacing:1},l&&t.createElement(fr.Q,{action:d},l),t.createElement(yr._,{ref:U,startAction:n,disabled:x,type:"text",inputmode:"decimal",onChange:A,onKeyDown:mt,onBlur:pe,value:G,size:e,endAction:t.createElement(t.Fragment,null,t.createElement(da,{disabled:x,"aria-hidden":!0,reverse:!0,onClick:re,tabIndex:-1,type:"button","data-testid":"ArrowUp"},t.createElement(bt.J,{as:cn.CarretDown,color:"neutral500"})),t.createElement(da,{disabled:x,"aria-hidden":!0,onClick:ne,tabIndex:-1,type:"button","data-testid":"ArrowDown"},t.createElement(bt.J,{as:cn.CarretDown,color:"neutral500"}))),...D}),t.createElement(hr.J,null),t.createElement(br.c,null)))});Vt.displayName="NumberInput",Vt.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},Vt.propTypes={"aria-label":N.string,disabled:N.bool,error:N.string,hint:N.oneOfType([N.string,N.node,N.arrayOf(N.node)]),id:N.string,label:N.string,labelAction:N.element,locale:N.string,name:N.string.isRequired,onValueChange:N.func.isRequired,required:N.bool,size:N.oneOf(Object.keys(vr.J.input)),startAction:N.element,step:N.number,value:N.number};var fn=s(16364);const yn=({error:e,intlLabel:n,modifiedData:a,name:i,onChange:o,value:l})=>{const{formatMessage:d}=(0,v.useIntl)(),[c,p]=(0,t.useState)(!!l||l===0),h=n.id?d({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,f=a.type==="biginteger"?"text":"number",m=!a.type,R=e?d({id:e,defaultMessage:e}):"";return t.createElement(Ae.K,{spacing:2},t.createElement(rr.X,{id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x?f==="text"?"0":0:null}}),p(H=>!H)},value:c},h),c&&t.createElement(w.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?t.createElement(fn.o,{"aria-label":h,disabled:m,error:R,id:i,name:i,onChange:o,value:l===null?"":l}):t.createElement(Vt,{"aria-label":h,disabled:m,error:R,id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x,type:f}})},value:l||0})))};yn.defaultProps={error:null,value:null},yn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const xr=yn,ua=({onChange:e,...n})=>{const a=(0,g.useNotification)(),i=o=>{a({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return t.createElement(un,{...n,onChange:i})};ua.propTypes={onChange:r().func.isRequired};const Rr=ua;var hn=s(1734),ca=s(17205),Ee=s(59015);const bn=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:a,sortedContentTypesList:i}=(0,He.Z)(),o=(0,O.useDispatch)(),l=i.filter(we),d=k()(a,[n,"plugin"],null),c=k()(a,[n,"schema","displayName"],"error");return t.createElement(ca.O,{id:"label",label:`${c}
    ${d?`(from: ${d})`:""}`},l.map(({uid:p,title:h,restrictRelationsTo:f,plugin:m})=>{const R=()=>{const x=m?`${m}_${h}`:h;o({type:Ee.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:f}})};return t.createElement(ca.s,{key:p,onClick:R},h,"\xA0",m&&t.createElement(t.Fragment,null,"(from: ",m,")"))}))};bn.defaultProps={target:null},bn.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const Ar=bn,vn=({disabled:e,error:n,header:a,isMain:i,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:p})=>t.createElement(w.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(Ce.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(be.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},a):t.createElement(Ar,{target:c,oneThatIsCreatingARelationWithAnother:d})),t.createElement(Oe.i,{background:"neutral200"}),t.createElement(w.x,{padding:4},t.createElement(g.GenericInput,{disabled:e,error:n?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:p})));vn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},vn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const ma=vn;var Zr=s(39138),pa=s.n(Zr),Sr=s(23450),Cn=s.n(Sr),me=s(85893);function Fr(e){return(0,me.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,me.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"})]})}function Lr(e){return(0,me.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"})})}function Nr(e){return(0,me.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,me.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),(0,me.jsx)("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),(0,me.jsx)("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"})]})}function Pr(e){return(0,me.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,me.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,me.jsx)("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"})]})}function Or(e){return(0,me.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,me.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),(0,me.jsx)("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"})]})}function Dr(e){return(0,me.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,me.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),(0,me.jsx)("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),(0,me.jsx)("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"})]})}const $r=(0,Be.default)(w.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ir=(0,Be.default)(w.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,jr=(0,Be.default)(Ce.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Br={oneWay:Lr,oneToOne:Fr,oneToMany:Pr,manyToOne:Or,manyToMany:Dr,manyWay:Nr},En=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:a,target:i})=>{const o=(0,O.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:d,modifiedData:c}=(0,He.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],h=["oneWay","manyWay"],m=(e==="contentType"?k()(c,[e,"schema","kind"],""):e)==="collectionType"?p:h,R=a==="manyToOne",x=k()(d,[i,"schema","displayName"],"unknown"),D=R?x:n,U=R?n:x,H=Cn()(D,a==="manyToMany"?2:1),Z=k()(d,[i,"schema","restrictRelationsTo"],null),T=Cn()(U,["manyToMany","oneToMany","manyToOne","manyWay"].includes(a)?2:1);return a?t.createElement(Ce.k,{style:{flex:1}},t.createElement($r,null,t.createElement(Ce.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(Ze.k,{tagName:"button"},t.createElement(Ae.K,{spacing:3,horizontal:!0},m.map(F=>{const G=Br[F],te=Z===null||Z.includes(F);return t.createElement(Ir,{as:"button",isSelected:a===F,disabled:!te,key:F,onClick:()=>{te&&o({type:Ee.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:i,value:F}})},padding:2,type:"button"},t.createElement(G,{key:F}))}))))),t.createElement(jr,{justifyContent:"center"},t.createElement(be.Z,null,pa()(H,{length:24}),"\xA0"),t.createElement(be.Z,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${a}`)}),"\xA0"),t.createElement(be.Z,null,pa()(T,{length:24})))):null};En.defaultProps={relationType:null,target:null},En.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const zr=En,ga=({formErrors:e,mainBoxHeader:n,modifiedData:a,naturePickerType:i,onChange:o})=>{const l=(0,hn.Z)(a.relation,a.targetAttribute);return t.createElement(Ce.k,{style:{position:"relative"}},t.createElement(ma,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:o,value:a?.name||""}),t.createElement(zr,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:n,relationType:l,target:a.target}),t.createElement(ma,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:n,target:a.target,value:a?.targetAttribute||""}))};ga.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const Ur=ga;var fa=s(97406);const Tn=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),h=i?.displayName||"";(0,t.useEffect)(()=>{if(h){const x=(0,fa.Z)(h);try{const D=Cn()(x,2);p.current({target:{name:o,value:D}})}catch{p.current({target:{name:o,value:x}})}}else p.current({target:{name:o,value:""}})},[h,o]);const f=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=c(a);return t.createElement(fn.o,{error:f,label:R,id:o,hint:m,name:o,onChange:l,value:d||""})};Tn.defaultProps={description:null,error:null,value:null},Tn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const kr=Tn;var wr=s(38855),qr=s(90608);const Mn=({error:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:d}=(0,He.Z)(),[c,p]=(0,t.useState)(d),h=e?l({id:e,defaultMessage:e}):"",f=l(n),m=x=>{i({target:{name:a,value:x,type:"select-category"}})},R=x=>{p(D=>[...D,x]),m(x)};return t.createElement(wr.X,{error:h,id:a,label:f,name:a,onChange:m,onCreateOption:R,value:o},c.map(x=>t.createElement(qr.O,{key:x,value:x},x)))};Mn.defaultProps={error:null,value:null},Mn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Wr=Mn,xn=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:a,isCreating:i,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:d,onChange:c,targetUid:p,forTarget:h,value:f})=>{const{formatMessage:m}=(0,v.useIntl)(),R=e?m({id:e,defaultMessage:e}):"",x=m(n),{componentsGroupedByCategory:D,componentsThatHaveOtherComponentInTheirAttributes:U}=(0,He.Z)(),H=["component","components"].includes(h);let Z=Object.entries(D).reduce((T,F)=>{const[G,te]=F,ye=te.map(A=>({uid:A.uid,label:A.schema.displayName,categoryName:G}));return[...T,...ye]},[]);return a&&(Z=Z.filter(T=>!U.includes(T.uid))),H&&(Z=Z.filter(T=>T.uid!==p)),o&&(Z=[{uid:f,label:l.displayName,categoryName:l.category}]),t.createElement(wt.P,{disabled:o||!i,error:R,label:x,id:d,name:d,onChange:T=>{c({target:{name:d,value:T,type:"select-category"}})},value:f||""},Z.map(T=>t.createElement(qt.W,{key:T.uid,value:T.uid},`${T.categoryName} - ${T.label}`)))};xn.defaultProps={componentToCreate:null,error:null},xn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const Kr=xn,Rn=(e,n)=>e.find(({name:a})=>a===n),ya=({dynamicZoneTarget:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:d,modifiedData:c}=(0,He.Z)(),h=(Rn(c.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(d).reduce((x,D)=>{const U=d[D].filter(({uid:H})=>!h.includes(H));return U.length>0&&(x[D]=U),x},{}),m=Object.entries(f).reduce((x,D)=>{const[U,H]=D,Z={label:U,children:H.map(({uid:T,schema:{displayName:F}})=>({label:F,value:T}))};return x.push(Z),x},[]),R=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o.length});return t.createElement($t.Q,{id:"select1",label:l(n),customizeContent:()=>R,name:a,onChange:x=>{i({target:{name:a,value:x,type:"select-components"}})},options:m,value:o||[]})};ya.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const Vr=ya,An=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),h=n?c({id:n,defaultMessage:n}):"",f=m=>{o({target:{name:i,value:m,type:"select"}}),d&&a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}})};return t.createElement(wt.P,{error:h,label:p,id:i,name:i,onChange:f,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:D,value:U})=>t.createElement(qt.W,{key:D,value:U,disabled:R,hidden:x},c({id:m.id,defaultMessage:m.defaultMessage},m.values))))};An.defaultProps={error:void 0,value:""},An.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Hr=An,Zn=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),h=n?c({id:n,defaultMessage:n}):"",f=m=>{o({target:{name:i,value:m,type:"select"}}),d&&(m==="biginteger"&&d!=="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&d==="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})))};return t.createElement(wt.P,{error:h,label:p,id:i,name:i,onChange:f,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:R,hidden:x},key:D,value:U})=>t.createElement(qt.W,{key:D,value:U,disabled:R,hidden:x},c(m))))};Zn.defaultProps={error:void 0,value:""},Zn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Gr=Zn,Sn=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),h=i?.displayName||"";(0,t.useEffect)(()=>{h?p.current({target:{name:o,value:(0,fa.Z)(h)}}):p.current({target:{name:o,value:""}})},[h,o]);const f=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=c(a);return t.createElement(fn.o,{error:f,label:R,id:o,hint:m,name:o,onChange:l,value:d||""})};Sn.defaultProps={description:null,error:null,value:null},Sn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Xr=Sn,ha=({form:e,formErrors:n,genericInputProps:a,modifiedData:i,onChange:o})=>{const{formatMessage:l}=(0,v.useIntl)();return e.map((d,c)=>d.items.length===0?null:t.createElement(w.x,{key:c},d.sectionTitle&&t.createElement(w.x,{paddingBottom:4},t.createElement(be.Z,{variant:"delta",as:"h3"},l(d.sectionTitle))),t.createElement(At.r,{gap:4},d.items.map((p,h)=>{const f=`${c}.${h}`,m=k()(i,p.name,""),R=Object.keys(n).find(D=>D===p.name),x=R?n[R].id:k()(n,[...p.name.split(".").filter(D=>D!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(ft.P,{col:p.size||6,key:p.name||f},t.createElement("div",null)):t.createElement(ft.P,{col:p.size||6,key:p.name||f},t.createElement(g.GenericInput,{...p,...a,error:x,onChange:o,value:m}))}))))};ha.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const ba=ha;var Yr=s(64256);const Fn=({description:e,disabled:n,error:a,intlLabel:i,labelAction:o,name:l,onChange:d,placeholder:c,value:p})=>{const{formatMessage:h}=(0,v.useIntl)(),f=a?h({id:a,defaultMessage:a}):"",m=e?h({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=h(i),x=c?h({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",D=Array.isArray(p)?p.join(`
`):"",U=H=>{const Z=H.target.value.split(`
`);d({target:{name:l,value:Z}})};return t.createElement(Yr.g,{disabled:n,error:f,label:R,labelAction:o,id:l,hint:m,name:l,onChange:U,placeholder:x,value:D},D)};Fn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Fn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const Jr=Fn,Qr=(e,n)=>{const a=k()(e,["contentType","schema","kind"],"");return a==="singleType"||a===n.kind?!0:k()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const p=(0,hn.Z)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},_r=(e="",n,a)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],o=e==="contentType",l=a.includes(n),d=!o&&!l;return o?[[...i,"uid"],["component","dynamiczone"]]:d?[i,["component"]]:[i]},va=e=>e.reduce((n,a)=>{const i=a.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...n,...i]},[]);var M=s(53209),Ct=s(97392);const es={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Ca=/^[A-Za-z][-_0-9A-Za-z]*$/,ts=e=>{const n={name:M.Z_().matches(Ca,g.translatedErrors.regex).test({name:"nameNotAllowed",message:g.translatedErrors.unique,test(a){return a?!e.includes((0,b.toLower)(a)):!1}}).required(g.translatedErrors.required)};return M.Ry(n)},ns=(e,n,a)=>{const i={displayName:M.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(o){if(!o)return!1;const l=(0,Ct.N)(o,a);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(o){return o?!n.includes((0,b.toLower)((0,b.trim)(o))):!1}}).required(g.translatedErrors.required),category:M.Z_().matches(Ca,g.translatedErrors.regex).required(g.translatedErrors.required),icon:M.Z_()};return M.Ry(i)},Ln={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Et={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},I={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},as={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},component({repeatable:e},n){return n==="1"?{sections:Et.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private,I.max,I.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...I.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.max,I.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...I.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,a)=>e.enum.indexOf(n)===a&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.max,I.min,I.private]}]}},password(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},text(){return{sections:[{sectionTitle:null,items:[I.default,I.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...I.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}}},Xe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Ea={advanced:as,base:{component(e,n){if(n==="1"){const a=e.createComponent===!0?Et.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Ln]},...a]}}return{sections:[{sectionTitle:null,items:[Xe,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Xe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Xe,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Xe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,a){const i=a.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Xe,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},rs={sections:[{sectionTitle:null,items:[Xe]}]};var ss=s(44908),os=s.n(ss),is=s(46831),ls=s.n(is);const Nn=e=>ls()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Ta=/^[A-Za-z][_0-9A-Za-z]*$/,Ma=e=>({name:"attributeNameAlreadyUsed",message:g.translatedErrors.unique,test(n){return n?!e.includes(n):!1}}),Io=(e,n,a)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(o=>n?o!==a:!0)},Pn=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),E={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>M.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return M.Z_().test(Ma(e)).test(Pn(n)).matches(Ta,g.translatedErrors.regex).required(g.translatedErrors.required)},required:()=>M.O7(),type:()=>M.Z_().required(g.translatedErrors.required),unique:()=>M.O7().nullable()},On=(e,n)=>({name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Dn={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN((0,b.toNumber)(e))?!0:(0,b.toNumber)(n)>=(0,b.toNumber)(e)}},$n={date(e,n){const a={name:E.name(e,n),type:E.type()};return M.Ry(a)},datetime(e,n){const a={name:E.name(e,n),type:E.type()};return M.Ry(a)},time(e,n){const a={name:E.name(e,n),type:E.type()};return M.Ry(a)},default(e,n){const a={name:E.name(e,n),type:E.type()};return M.Ry(a)},biginteger(e,n){const a={name:E.name(e,n),type:E.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:M.Z_().nullable().matches(/^-?\d*$/,g.translatedErrors.regex),min:M.Z_().nullable().test(Dn).matches(/^-?\d*$/,g.translatedErrors.regex)};return M.Ry(a)},boolean(e,n){const a={name:E.name(e,n),default:M.O7().nullable(),required:E.required(),unique:E.unique()};return M.Ry(a)},component(e,n){const a={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:M.Z_().required(g.translatedErrors.required)};return M.Ry(a)},decimal(e,n){const a={name:E.name(e,n),type:E.type(),default:M.Rx(),required:E.required(),max:M.Rx(),min:M.Rx().test(Dn)};return M.Ry(a)},dynamiczone(e,n){const a={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return M.Ry(a)},email(e,n){const a={name:E.name(e,n),type:E.type(),default:M.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return M.Ry(a)},enumeration(e,n){const a=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:M.Z_().test(Ma(e)).test(Pn(n)).matches(a,g.translatedErrors.regex).required(g.translatedErrors.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:M.IX().of(M.Z_()).min(1,g.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(o){return!os()(o.map(Nn).filter((d,c,p)=>p.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:o=>!o.map(Nn).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:o=>o.map(Nn).every(l=>a.test(l))}),enumName:M.Z_().nullable()};return M.Ry(i)},float(e,n){const a={name:E.name(e,n),type:E.type(),required:E.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(Dn)};return M.Ry(a)},integer(e,n){const a={name:E.name(e,n),type:E.type(),default:M.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return M.Ry(a)},json(e,n){const a={name:E.name(e,n),type:E.type(),required:E.required(),unique:E.unique()};return M.Ry(a)},media(e,n){const a={name:E.name(e,n),type:E.type(),multiple:M.O7(),required:E.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(a)},password(e,n){const a={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return M.Ry(a)},relation(e,n,a,{initialData:i,modifiedData:o}){const l={name:E.name(e,n),target:M.Z_().required(g.translatedErrors.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const d=(0,hn.Z)(o.relation,o.targetAttribute);if(d==="oneWay"||d==="manyWay")return M.Z_().nullable();let c=M.Z_().test(Pn(n)),h=[...a.map(({name:f})=>f),o.name].filter(f=>f!==i.targetAttribute);return c.matches(Ta,g.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!h.includes(f):!1}}).required(g.translatedErrors.required)})};return M.Ry(l)},richtext(e,n){const a={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return M.Ry(a)},string(e,n){const a=On(e,n);return M.Ry(a)},text(e,n){const a=On(e,n);return M.Ry(a)},uid(e,n){const a=On(e,n);return M.Ry(a)}},xa={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},In={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[xa,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[xa,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},ds=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:a=[],pluralNames:i=[]})=>{const o={displayName:M.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(l){if(!l)return!1;const d=(0,Ct.E)(l);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,d){return l?d.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!a.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,d){return l?d.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(g.translatedErrors.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"])};return M.Ry(o)},jn={advanced:{default(){return{sections:Et.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Ln]},...Et.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Ln]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ra=(e,n)=>{e.forEach(a=>{if(!("sectionTitle"in a)){n[0].items.push(a);return}n.push(a)})},Aa=(e,n)=>e.filter(({name:a})=>a!==n.initialData.name).map(({name:a})=>a);var Za=s(25108);const tt={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:a,reservedNames:i,schemaData:o,ctbFormsAPI:l}){const d=Aa(e,o),c=$n[n](d,i.attributes);return l.makeCustomFieldValidator(c,a,d,i.attributes,o)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Xe]}];return e.options?.base&&Ra(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:a,extensions:i,...o}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:a,...o});if(e.options?.advanced&&Ra(e.options.advanced,l),d){const c={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,n,a,i,o,l){const d=k()(e,["schema","attributes"],[]),c=Aa(d,o);try{let p=$n[n](c,a.attributes,i,o);return l.makeValidator(["attribute",n],p,c,a.attributes,i,o)}catch(p){return Za.error("Error yup build schema",p),$n.default(c,a.attributes)}},form:{advanced({data:e,type:n,step:a,extensions:i,...o}){try{const l=Ea.advanced[n](e,a).sections,d=i.getAdvancedForm(["attribute",n],{data:e,type:n,step:a,...o});return{sections:l.reduce((p,h)=>(h.sectionTitle===null?p.push(h):p.push({...h,items:[...h.items,...d]}),p),[])}}catch(l){return Za.error(l),{sections:[]}}},base({data:e,type:n,step:a,attributes:i}){try{return Ea.base[n](e,a,i)}catch{return rs}}}},contentType:{schema(e,n,a,i,o,l){const d=Object.values(l).map(R=>R.schema.singularName),c=Object.values(l).map(R=>k()(R,["schema","pluralName"],"")),p=n?e.filter(R=>R!==a):e,h=n?d.filter(R=>k()(l,[a,"schema","singularName"],"")!==R):d,f=n?c.filter(R=>k()(l,[a,"schema","pluralName"],"")!==R):c,m=ds({usedContentTypeNames:p,reservedModels:i.models,singularNames:h,pluralNames:f});return o.makeValidator(["contentType"],m,p,i.models,h,f)},form:{base({actionType:e}){return e==="create"?In.base.create():In.base.edit()},advanced({extensions:e}){const n=In.advanced.default().sections.map(i=>i.items).flat(),a=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...a]}]}}}},component:{schema(e,n,a,i=!1,o=null){const l=i?e.filter(d=>d!==o):e;return ns(l,a.models,n)},form:{advanced(){return{sections:Et.advanced()}},base(){return{sections:Et.base()}}}},addComponentToDynamicZone:{form:{advanced(){return jn.advanced.default()},base({data:e}){return k()(e,"createComponent",!1)?jn.base.createComponent():jn.base.default()}}},editCategory:{schema(e,n){const a=e.filter(i=>i!==n.name).map(i=>K()(i));return ts(a)},form:{advanced:()=>({sections:[]}),base(){return es.base}}}};var Sa=s(20573),us=s(88372);const cs=()=>e=>e[`${B.Z}_formModal`]||us.E,ms=()=>(0,Sa.P1)(cs(),e=>e);var Fa=s(25108);const ps=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:a,onNavigateToCreateComponentStep2:i,actionType:o,attributeName:l,attributeType:d,customFieldUid:c,categoryName:p,dynamicZoneTarget:h,forTarget:f,modalType:m,isOpen:R,kind:x,step:D,targetUid:U}=(0,ae.Z)(),H=(0,g.useCustomFields)().get(c),Z=(0,t.useRef)(),T=(0,t.useMemo)(ms,[]),F=(0,O.useDispatch)(),G=(0,g.useNotification)(),te=(0,O.useSelector)(Y=>T(Y),O.shallowEqual),{push:ye}=(0,y.useHistory)(),{trackUsage:A}=(0,g.useTracking)(),{formatMessage:re}=(0,v.useIntl)(),{getPlugin:ne}=(0,g.useStrapiApp)(),pe=ne(B.Z).apis.forms,J=pe.components.inputs,{addAttribute:he,addCustomFieldAttribute:Nt,addCreatedComponentToDynamicZone:nt,allComponentsCategories:le,changeDynamicZoneComponents:P,contentTypes:Tt,components:Pt,createSchema:Mt,deleteCategory:Un,deleteData:Gt,editCategory:kn,editCustomFieldAttribute:wn,submitData:qn,modifiedData:Le,nestedComponents:Xt,setModifiedData:Wn,sortedContentTypesList:Kn,updateSchema:Vn,reservedNames:We}=(0,He.Z)(),{componentToCreate:Ot,formErrors:z,initialData:L,isCreatingComponentWhileAddingAField:V,modifiedData:$}=te,Te=f==="contentType"||f==="component"?[f]:[f,U];(0,t.useEffect)(()=>{if(R){const Y=Kn.filter(we);m==="editCategory"&&Wn(),o==="edit"&&m==="attribute"&&f==="contentType"&&A("willEditFieldOfContentType");const $e=[...Te,"schema","attributes"],Ue=Rn(k()(Le,$e,[]),h)||null;if(m==="editCategory"&&o==="edit"&&F({type:Ee._H,modalType:m,actionType:o,data:{name:p}}),m==="contentType"&&o==="create"&&F({type:Ee._H,modalType:m,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&o==="edit"){const{displayName:ee,draftAndPublish:xe,kind:ke,pluginOptions:Ne,pluralName:ho,singularName:bo}=k()(Le,[...Te,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});F({type:Ee._H,actionType:o,modalType:m,data:{displayName:ee,draftAndPublish:xe,kind:ke,pluginOptions:Ne,pluralName:ho,singularName:bo}})}if(m==="component"&&o==="edit"){const ee=k()(Le,Te,{});F({type:Ee._H,actionType:o,modalType:m,data:{displayName:ee.schema.displayName,category:ee.category}})}if(m==="addComponentToDynamicZone"&&o==="edit"){const ee={...Ue,components:[],name:h,createComponent:!1,componentToCreate:{type:"component"}};F({type:Ee.VZ,attributeToEdit:ee})}if(d){const xe={...Rn(k()(Le,$e,[]),l),name:l};d==="component"&&o==="edit"&&(xe.repeatable||Ve()(xe,"repeatable",!1)),F(m==="customField"?{type:Ee.OY,customField:H,isEditing:o==="edit",modifiedDataToSetForEditing:xe,forTarget:f}:{type:Ee.S0,attributeType:d,nameToSetForRelation:k()(Y,["0","title"],"error"),targetUid:k()(Y,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:xe,step:D,forTarget:f})}}else F({type:Ee.c2})},[o,l,d,p,h,f,R,m]);const Pe=m==="contentType",at=m==="component",xt=m==="attribute",wa=m==="customField",qa=d==="component"&&xt,Dt=o==="create",rt=k()($,"createComponent",!1)||V,Rt=D==="1",Wa=m==="editCategory",Ka=m==="chooseAttribute",Hn=(0,Ct.E)($.displayName||""),Gn=k()(Le,[...Te,"schema","attributes"],null),no=async()=>{let Y;const $e=rt&&D==="1"?k()($,"componentToCreate",{}):$;if(Pe)Y=tt.contentType.schema(Object.keys(Tt),o==="edit",k()(Le,[...Te,"uid"],null),We,pe,Tt);else if(at)Y=tt.component.schema(Object.keys(Pt),$.category||"",We,o==="edit",k()(Le,[...Te,"uid"],null),pe);else if(wa)Y=tt.customField.schema({schemaAttributes:k()(Le,[...Te,"schema","attributes"],[]),attributeType:H.type,reservedNames:We,schemaData:{modifiedData:$,initialData:L},ctbFormsAPI:pe,customFieldValidator:H.options?.validator});else if(qa&&rt&&Rt)Y=tt.component.schema(Object.keys(Pt),k()($,"componentToCreate.category",""),We,pe);else if(xt&&!Rt){const Ue=d==="relation"?"relation":$.type;let ee=[];if(Ue==="relation"){const xe=k()($,["target"],null);ee=k()(Tt,[xe,"schema","attributes"],[]).filter(({name:Ne})=>o!=="edit"?!0:Ne!==L.targetAttribute)}Y=tt.attribute.schema(k()(Le,Te,{}),Ue,We,ee,{modifiedData:$,initialData:L},pe)}else if(Wa)Y=tt.editCategory.schema(le,L,pe);else if(Rt&&rt)Y=tt.component.schema(Object.keys(Pt),k()($,"componentToCreate.category",""),We,pe);else return;await Y.validate($e,{abortEarly:!1})},Va=(0,t.useCallback)(({target:{name:Y,value:$e,type:Ue,...ee}})=>{const xe=["enumName","max","min","maxLength","minLength","regex","default"];let ke;xe.includes(Y)&&$e===""?ke=null:ke=$e;const Ne=Object.assign({},z);Y==="max"&&delete Ne.min,Y==="maxLength"&&delete Ne.minLength,delete Ne[Y],F({type:Ee.Ey,errors:Ne}),F({type:Ee.P0,keys:Y.split("."),value:ke,...ee})},[F,z]),ze=async(Y,$e=Dt)=>{Y.preventDefault();try{await no(),so($e);const Ue=f==="components"?U:Hn;if(Pe)if(Dt)Mt({...$,kind:x},m,Hn),ye({pathname:`/plugins/${B.Z}/content-types/${Hn}`}),n({forTarget:f,targetUid:Ue});else{Qr(Le,$)?(e(),qn($)):G({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(Dt){const ee=(0,Ct.N)($.displayName,$.category),{category:xe,...ke}=$;Mt(ke,"component",ee,xe),ye({pathname:`/plugins/${B.Z}/component-categories/${xe}/${ee}`}),n({forTarget:f,targetUid:ee})}else{Vn($,m,U),e();return}else if(Wa){if(K()(L.name)===K()($.name)){e();return}kn(L.name,$);return}else if(wa){const ee={attributeToSet:{...$,customField:c},forTarget:f,targetUid:U,initialAttribute:L};o==="edit"?wn(ee):Nt(ee),$e?n({forTarget:f,targetUid:Ue}):e();return}else if(xt&&!rt){if(d==="dynamiczone"){he($,f,U,o==="edit",L),Dt?(F({type:Ee.I}),Z.current._handlers.setSelectedTabIndex(0),a({dynamicZoneTarget:$.name})):e();return}if(!qa){he($,f,U,o==="edit",L),$e?n({forTarget:f,targetUid:Ue}):e();return}if(Rt){i(),F({type:Ee.yC,forTarget:f});return}he($,f,U,o==="edit",L,!0),$e?n({forTarget:f,targetUid:U}):e()}else if(xt&&rt){if(Rt){A("willCreateComponentFromAttributesModal"),F({type:Ee.oF,forTarget:f}),i();return}const{category:ee,type:xe,...ke}=Ot,Ne=(0,Ct.N)(Ot.displayName,ee);Mt(ke,xe,Ne,ee,rt),he($,f,U,!1),F({type:Ee.c2}),$e?n({forTarget:"components",targetUid:Ne}):e();return}else{if(Rt)if(rt){const{category:ee,type:xe,...ke}=$.componentToCreate,Ne=(0,Ct.N)($.componentToCreate.displayName,ee);Mt(ke,xe,Ne,ee,rt),nt(h,[Ne]),n({forTarget:"components",targetUid:Ne})}else P(h,$.components),e();else Fa.error("This case is not handled");return}F({type:Ee.c2})}catch(Ue){const ee=(0,g.getYupInnerErrors)(Ue);Fa.log({err:Ue,errors:ee}),F({type:Ee.Ey,errors:ee})}},ao=()=>{window.confirm(re({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),F({type:Ee.c2}))},Ha=()=>{(0,b.isEqual)($,L)?(e(),F({type:Ee.c2})):ao()},ro=Y=>{if(Y==="advanced"){if(Pe){A("didSelectContentTypeSettings");return}f==="contentType"&&A("didSelectContentTypeFieldSettings")}},so=Y=>{m==="attribute"&&f==="contentType"&&d!=="dynamiczone"&&Y&&A("willAddMoreFieldToContentType")},oo=()=>!!(m==="editCategory"||m==="component"||_e()($,"createComponent")),io=_r(f,U,Xt);if(!R||!m)return null;const Ga=k()(tt,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),lo=f==="components"||f==="component",Xa={customInputs:{"allowed-types-select":Qt,"boolean-radio-group":ar,"checkbox-with-number-field":xr,"content-type-radio-group":Rr,"radio-group":un,relation:Ur,"select-category":Wr,"select-component":Kr,"select-components":Vr,"select-default-boolean":er,"select-number":Gr,"select-date":Hr,"toggle-draft-publish":sn,"text-plural":kr,"text-singular":Xr,"textarea-enum":Jr,...J},componentToCreate:Ot,dynamicZoneTarget:h,formErrors:z,isAddingAComponentToAnotherComponent:lo,isCreatingComponentWhileAddingAField:V,mainBoxHeader:k()(Le,[...Te,"schema","displayName"],""),modifiedData:$,naturePickerType:f,isCreating:Dt,targetUid:U,forTarget:f},Ya=Ga.advanced({data:$,type:d,step:D,actionType:o,attributes:Gn,extensions:pe,forTarget:f,contentTypeSchema:Le.contentType||{},customField:H}).sections,Ja=Ga.base({data:$,type:d,step:D,actionType:o,attributes:Gn,extensions:pe,forTarget:f,contentTypeSchema:Le.contentType||{},customField:H}).sections,uo=va(Ja),co=va(Ya),mo=Object.keys(z).some(Y=>uo.includes(Y)),po=Object.keys(z).some(Y=>co.includes(Y)),go=k()(Tt,[U,"schema","kind"]),fo=()=>o==="edit"&&Gn.every(({name:Y})=>Y!==$?.name),yo=()=>{fo()&&A("didEditFieldNameOnContentType")};return t.createElement(Me.P,{onClose:Ha,labelledBy:"title"},t.createElement(_,{actionType:o,attributeName:l,categoryName:p,contentTypeKind:x,dynamicZoneTarget:h,modalType:m,forTarget:f,targetUid:U,attributeType:d,customFieldUid:c}),Ka&&t.createElement(Ge,{attributes:io,forTarget:f,kind:go||"collectionType"}),!Ka&&t.createElement("form",{onSubmit:ze},t.createElement(st.f,null,t.createElement(pt.v,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:Y=>{Y===1&&ro("advanced")}},t.createElement(Ce.k,{justifyContent:"space-between"},t.createElement(_a,{actionType:o,forTarget:f,kind:x,step:D,modalType:m,attributeType:d,attributeName:l,customField:H}),t.createElement(et.m,null,t.createElement(et.O,{hasError:mo},re({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(et.O,{hasError:po,disabled:oo()},re({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(Oe.i,null),t.createElement(w.x,{paddingTop:6},t.createElement(Ie.n,null,t.createElement(Ie.x,null,t.createElement(Ae.K,{spacing:6},t.createElement(ba,{form:Ja,formErrors:z,genericInputProps:Xa,modifiedData:$,onChange:Va}))),t.createElement(Ie.x,null,t.createElement(Ae.K,{spacing:6},t.createElement(ba,{form:Ya,formErrors:z,genericInputProps:Xa,modifiedData:$,onChange:Va}))))))),t.createElement(Yt.m,{endActions:t.createElement(qe,{deleteCategory:Un,deleteContentType:Gt,deleteComponent:Gt,categoryName:L.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:$.createComponent||!1,isCreatingComponentInDz:$.createComponent||!1,isCreatingComponentWhileAddingAField:V,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:D==="1",onSubmitAddComponentAttribute:ze,onSubmitAddComponentToDz:ze,onSubmitCreateComponent:ze,onSubmitCreateContentType:ze,onSubmitCreateDz:ze,onSubmitEditAttribute:ze,onSubmitEditCategory:ze,onSubmitEditComponent:ze,onSubmitEditContentType:ze,onSubmitEditCustomFieldAttribute:ze,onSubmitEditDz:ze,onClickFinish:yo}),startActions:t.createElement(X.z,{variant:"tertiary",onClick:Ha},re({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},La=e=>e.reduce((n,a)=>(n[a.uid]=a,n),{}),gs=(e,n,a,i)=>{const o=n.reduce((c,p)=>{const h=k()(a,p,{});return c[p]=h,c},{});return{[i?"contentType":"component"]:e,components:o}},fs=(e,n)=>{const a=Object.keys(e).map(i=>(0,b.get)(e,[i,...n],""));return(0,ue.Z)(a)};var ys=s(19525);const hs=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=(0,b.get)(e,[i,"schema","attributes"],[]),l=bs(o);return[...a,...l]},[]);return(0,ue.Z)(n)},bs=e=>e.reduce((n,a)=>{const{type:i,component:o}=a;return i==="component"&&n.push(o),n},[]),Na=hs,vs=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=k()(e,[i],{}),l=o.uid;return Cs(o)&&a.push(l),a},[]);return(0,ue.Z)(n)},Cs=e=>k()(e,["schema","attributes"],[]).some(a=>{const{type:i}=a;return i==="component"}),Es=(e,n)=>{const a=Object.keys(e).filter(i=>{const o=(0,b.get)(e,i,{}),l=(0,b.get)(n,i,{}),d=(0,b.get)(o,["isTemporary"],!1),c=!(0,b.isEqual)(o,l);return d||c});return(0,ue.Z)(a)},Ts=(e,n)=>{const a=Oa((0,b.get)(e,"schema.attributes",[]),n),i=(0,b.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,b.omit)(e.schema,"attributes"),{attributes:a})},Pa=(e,n=!1)=>{const a=(0,b.get)(e,"uid",null),i=Oa((0,b.get)(e,"schema.attributes",[]),a),o=n?{category:(0,b.get)(e,"category","")}:{},l=Object.assign(o,(0,b.omit)(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Oa=(e,n)=>e.reduce((a,{name:i,...o})=>{const l=o,d=l.target===n,c=l.type==="relation",p=(0,b.get)(l,"targetAttribute",null);if(!d)if(c){const h=Object.assign({},l,{targetAttribute:Da(p)});a[i]=Ht(h)}else a[i]=Ht(l);if(d){const h=l.target,f=Object.assign({},l,{target:h,targetAttribute:Da(p)});a[i]=Ht(f)}if(l.customField){const h={...l,type:"customField"};a[i]=Ht(h)}return a},{}),Da=e=>e==="-"?null:e,Ht=e=>Object.keys(e).reduce((n,a)=>(e[a]!==null&&a!=="plugin"&&(n[a]=e[a]),n),{}),Ms=(e,n,a,i=!1)=>Es(e,n).map(d=>{const c=(0,b.get)(e,d,{});return Ts(c,a,i)}),xs=e=>(0,b.sortBy)(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${B.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>(0,b.camelCase)(n.title)),$a="did-not-kill-server",Rs="server is down";function Ft(e,n){return new Promise(a=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Rs);if(!n)throw new Error($a);a(e)}).catch(i=>{setTimeout(()=>Ft(e,i.message!==$a).then(a),100)})})}const As=e=>Object.values(e.attributes).filter(({type:a})=>a==="dynamiczone").every(({components:a})=>Array.isArray(a)&&a.length>0);var Fe=s(92407),Zs=s(87431);const Ss=()=>e=>e[`${B.Z}_dataManagerProvider`]||Zs.E,Fs=()=>(0,Sa.P1)(Ss(),e=>e),Ls=e=>Object.keys(e).reduce((n,a)=>{const i=e[a].schema;return n[a]={...e[a],schema:{...i,attributes:Ns(i.attributes)}},n},{}),Ns=e=>Object.keys(e).reduce((n,a)=>(n.push({...e[a],name:a}),n),[]),Ia=Ls;var Lt=s(25108);const Bn=({children:e,components:n,contentTypes:a,isLoading:i,isLoadingForDataToBeSet:o,initialData:l,modifiedData:d,reservedNames:c})=>{const p=(0,O.useDispatch)(),h=(0,g.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:m}=(0,g.useAutoReloadOverlayBlocker)(),{setCurrentStep:R}=(0,g.useGuidedTour)(),{getPlugin:x}=(0,g.useStrapiApp)(),{apis:D}=x(B.Z),{autoReload:U}=(0,g.useAppInfos)(),{formatMessage:H}=(0,v.useIntl)(),{trackUsage:Z}=(0,g.useTracking)(),{refetchPermissions:T}=(0,g.useRBACProvider)(),{pathname:F}=(0,y.useLocation)(),{onCloseModal:G}=(0,ae.Z)(),te=(0,y.useRouteMatch)(`/plugins/${B.Z}/content-types/:uid`),ye=(0,y.useRouteMatch)(`/plugins/${B.Z}/component-categories/:categoryUid/:componentUid`),A=(0,t.useRef)();A.current=H;const re=U,ne=te!==null,mt=ne?"contentType":"component",pe=ne?(0,b.get)(te,"params.uid",null):(0,b.get)(ye,"params.componentUid",null),J=(0,t.useRef)(),he=ne?"content-types":"components";J.current=async()=>{try{const[{data:{data:z}},{data:{data:L}},{data:V}]=await Promise.all(["components","content-types","reserved-names"].map(xt=>ge.get(xt))),$=La(z),Te=Ia($),Pe=La(L),at=Ia(Pe);p({type:Fe.Id,components:Te,contentTypes:at,reservedNames:V})}catch(z){Lt.error({err:z}),h({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(J.current(),()=>{p({type:Fe.Zl})}),[]),(0,t.useEffect)(()=>{!i&&pe&&Xt()},[i,F,pe]),(0,t.useEffect)(()=>{U||h({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[U,h]);const Nt=(z,L,V,$=!1,Te,Pe=!1)=>{const at=$?Fe.JO:Fe.gz;p({type:at,attributeToSet:z,forTarget:L,targetUid:V,initialAttribute:Te,shouldAddComponentToData:Pe})},nt=({attributeToSet:z,forTarget:L,targetUid:V,initialAttribute:$})=>{p({type:Fe.Ir,attributeToSet:z,forTarget:L,targetUid:V,initialAttribute:$})},le=({attributeToSet:z,forTarget:L,targetUid:V,initialAttribute:$})=>{p({type:Fe.Ly,attributeToSet:z,forTarget:L,targetUid:V,initialAttribute:$})},P=(z,L)=>{p({type:Fe.Uu,dynamicZoneTarget:z,componentsToAdd:L})},Tt=(z,L,V,$,Te=!1)=>{const Pe=L==="contentType"?Fe.Sh:Fe.VR;p({type:Pe,data:z,componentCategory:$,schemaType:L,uid:V,shouldAddComponentToData:Te})},Pt=(z,L)=>{p({type:Fe.o_,dynamicZoneTarget:z,newComponents:L})},Mt=(z,L,V="")=>{const $=z==="components"?Fe.lw:Fe.ai;z==="contentType"&&Z("willDeleteFieldOfContentType"),p({type:$,mainDataKey:z,attributeToRemoveName:L,componentUid:V})},Un=async z=>{try{const L=`/component-categories/${z}`,V=window.confirm(H({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));G(),V&&(f(),await ge.delete(L),await Ft(!0),await m(),await We())}catch(L){Lt.error({err:L}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},Gt=async()=>{try{const z=`/${he}/${pe}`,L=(0,b.get)(d,[mt,"isTemporary"],!1),V=window.confirm(H({id:(0,u.Z)(`popUpWarning.bodyMessage.${ne?"contentType":"component"}.delete`)}));if(G(),V){if(L){p({type:Fe.Ap});return}f(),await ge.delete(z),await Ft(!0),await m(),await We()}}catch(z){Lt.error({err:z}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},kn=async(z,L)=>{try{const V=`/component-categories/${z}`;G(),f(),await ge.put(V,L),await Ft(!0),await m(),await We()}catch(V){Lt.error({err:V}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},wn=()=>{const z=Object.assign({},n,d.components);if(!ne){const V=(0,b.get)(d,"component",{});(0,b.set)(z,(0,b.get)(V,["uid"],""),V)}const L=vs(z);return(0,ue.Z)(L)},qn=()=>{const z=Na(n),L=Na(d.components||{});return(0,ue.Z)([...L,...z])},Le=(z,L)=>{p({type:Fe.NG,dzName:z,componentToRemoveIndex:L})},Xt=()=>{const z=ne?a:n,L=(0,b.get)(z,pe,{schema:{attributes:[]}}),V=(0,ys.Z)(L.schema.attributes,n),$=gs(L,V,n,ne),Te=(0,b.get)(L,"isTemporary",!1)&&(0,b.size)((0,b.get)(L,"schema.attributes",[]))===0;p({type:Fe.xx,schemaToSet:$,hasJustCreatedSchema:Te})},Wn=(0,t.useMemo)(()=>{const z=ne?a:n;return pe==="create-content-type"?!1:!Object.keys(z).includes(pe)&&!i},[n,a,pe,ne,i]),Kn=(0,t.useMemo)(()=>{const z=Object.keys(a).filter(L=>(0,b.get)(a,[L,"schema","visible"],!0)).sort();return(0,b.get)(z,"0","create-content-type")},[a]);if(Wn)return t.createElement(y.Redirect,{to:`/plugins/${B.Z}/content-types/${Kn}`});const Vn=async z=>{try{const L=(0,b.get)(d,[mt,"isTemporary"],!1),V={components:Ms(d.components,n,pe,L)};if(ne){const Pe=D.forms.mutateContentTypeSchema({...Pa(d.contentType),...z},l.contentType);if(!As(Pe)){h({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}V.contentType=Pe,Z("willSaveContentType")}else V.component=Pa(d.component,!0),Z("willSaveComponent");f();const $=`/${he}`,Te=L?$:`${$}/${pe}`;if(L?await ge.post(Te,V):await ge.put(Te,V),await Ft(!0),await m(),L&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&R("contentTypeBuilder.success"),ne){Z("didSaveContentType");const Pe=(0,b.get)(V,["contentType","schema","name"],""),at=(0,b.get)(l,["contentType","schema","name"],"");!L&&Pe!==at&&Z("didEditNameOfContentType")}else Z("didSaveComponent");await We()}catch(L){ne||Z("didNotSaveComponent"),Lt.error({err:L.response}),h({type:"warning",message:{id:"notification.error"}})}finally{m()}},We=async()=>{await T()},Ot=(z,L,V)=>{p({type:Fe.bi,data:z,schemaType:L,uid:V})};return t.createElement(ie.Z.Provider,{value:{addAttribute:Nt,addCustomFieldAttribute:nt,addCreatedComponentToDynamicZone:P,allComponentsCategories:fs(n,["category"]),changeDynamicZoneComponents:Pt,components:n,componentsGroupedByCategory:(0,b.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:wn(),contentTypes:a,createSchema:Tt,deleteCategory:Un,deleteData:Gt,editCategory:kn,editCustomFieldAttribute:le,isInDevelopmentMode:re,initialData:l,isInContentTypeView:ne,modifiedData:d,nestedComponents:qn(),removeAttribute:Mt,removeComponentFromDynamicZone:Le,reservedNames:c,setModifiedData:Xt,sortedContentTypesList:xs(a),submitData:Vn,updateSchema:Ot}},o?t.createElement(g.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,re&&t.createElement(ps,null)))};Bn.defaultProps={components:{}},Bn.propTypes={children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const Ps=Fs(),Os=(0,O.connect)(Ps,null),Ds=(0,de.compose)(Os)((0,t.memo)(Bn));var $s=s(98422);const ja={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ba=({children:e})=>{const[n,a]=(0,t.useState)(ja),{trackUsage:i}=(0,g.useTracking)(),o=({attributeType:Z,customFieldUid:T})=>{a(F=>({...F,actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:T}))},l=({attributeType:Z,step:T})=>{n.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:Z}),a(F=>({...F,actionType:"create",modalType:"attribute",step:T,attributeType:Z}))},d=({dynamicZoneTarget:Z,targetUid:T})=>{a(F=>({...F,dynamicZoneTarget:Z,targetUid:T,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:Z,targetUid:T})=>{a(F=>({...F,actionType:"create",forTarget:Z,targetUid:T,modalType:"chooseAttribute",isOpen:!0}))},p=Z=>{a(T=>({...T,...Z,isOpen:!0}))},h=Z=>{a(T=>({...T,categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:Z,targetUid:T,attributeName:F,attributeType:G,customFieldUid:te})=>{a(ye=>({...ye,modalType:"customField",customFieldUid:te,actionType:"edit",forTarget:Z,targetUid:T,attributeName:F,attributeType:G,isOpen:!0}))},m=({forTarget:Z,targetUid:T,attributeName:F,attributeType:G,step:te})=>{a(ye=>({...ye,modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:T,attributeName:F,attributeType:G,step:te,isOpen:!0}))},R=({modalType:Z,forTarget:T,targetUid:F,kind:G})=>{a(te=>({...te,modalType:Z,actionType:"edit",forTarget:T,targetUid:F,kind:G,isOpen:!0}))},x=()=>{a(ja)},D=({forTarget:Z,targetUid:T})=>{a(F=>({...F,forTarget:Z,targetUid:T,modalType:"chooseAttribute"}))},U=()=>{a(Z=>({...Z,attributeType:"component",modalType:"attribute",step:"2"}))},H=({dynamicZoneTarget:Z})=>{a(T=>({...T,dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement($s.Z.Provider,{value:{...n,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:x,onNavigateToChooseAttributeModal:D,onNavigateToAddCompoToDZModal:H,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:U,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:h,onOpenModalEditField:m,onOpenModalEditCustomField:f,onOpenModalEditSchema:R,setFormModalNavigationState:a}},e)};Ba.propTypes={children:r().node.isRequired};const Is=Ba,js=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),Bs=()=>{const{url:e}=(0,y.useRouteMatch)(),{categoryUid:n}=(0,y.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(g.LoadingIndicatorPage,null)},t.createElement(y.Switch,null,t.createElement(y.Route,{path:`${e}/:componentUid`},t.createElement(js,{categoryId:n}))))};var zs=s(53192),Us=s(38702),ks=s(34446),ws=s(29489);const qs=(0,Be.default)(w.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Ws=Be.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Ks=Be.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,zn=({label:e,children:n,id:a})=>{const[i,o]=(0,t.useState)(!0),l=(0,sa.M)(a),d=()=>{o(c=>!c)};return t.createElement(w.x,null,t.createElement(qs,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},t.createElement(Ce.k,{justifyContent:"space-between"},t.createElement(Ws,{onClick:d,"aria-expanded":i,"aria-controls":l},t.createElement(Ks,{rotated:i},t.createElement(cn.CarretDown,{"aria-hidden":!0})),t.createElement(w.x,{paddingLeft:2},t.createElement(be.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&t.createElement("ul",{id:l},t.Children.map(n,(c,p)=>t.createElement("li",{key:p},c))))};zn.defaultProps={id:void 0},zn.propTypes={children:N.node.isRequired,id:N.string,label:N.string.isRequired};var za=s(52305),Vs=s(39785),Hs=s(41609),Gs=s.n(Hs),Xs=s(89734),Ua=s.n(Xs),Ys=s(18446),Js=s.n(Ys),Qs=s(63852);const _s=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:a,isInDevelopmentMode:i,sortedContentTypesList:o,modifiedData:l,initialData:d}=(0,He.Z)(),c=(0,g.useNotification)(),{trackUsage:p}=(0,g.useTracking)(),[h,f]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:R}=(0,ae.Z)(),x=Ua()(Object.keys(n).map(A=>({name:A,title:A,isEditable:i,onClickEdit(re,ne){re.stopPropagation(),D?R(ne.name):T()},links:Ua()(n[A].map(re=>({name:re.uid,to:`/plugins/${B.Z}/component-categories/${A}/${re.uid}`,title:re.schema.displayName})),re=>re.title)})),A=>A.title),D=!Object.keys(a).some(A=>a[A].isTemporary===!0)&&!Object.keys(e).some(A=>e[A].isTemporary===!0)&&Js()(l,d),U=()=>{D?(p("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):T()},H=()=>{D?(p("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):T()},Z=()=>{D?(p("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):T()},T=()=>{c({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},F=o.filter(A=>A.visible),G=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:U},links:F.filter(A=>A.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:H},links:F.filter(A=>A.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:x}],te=A=>h?(0,Qs.ZP)(A,K()(h),{keys:[re=>K()(re.title)]}):A;return{menu:(()=>G.map(A=>A.links.some(ne=>!Gs()(ne.links))?{...A,links:A.links.map(ne=>({...ne,links:te(ne.links)}))}:{...A,links:te(A.links)}))(),searchValue:h,onSearchChange:f}},eo=()=>{const{menu:e,searchValue:n,onSearchChange:a}=_s(),{formatMessage:i}=(0,v.useIntl)();return t.createElement(zs.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(Us.p,{searchable:!0,value:n,onClear:()=>a(""),onChange:o=>a(o.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(ks.Z,null,e.map(o=>t.createElement(t.Fragment,{key:o.name},t.createElement(ws.D,{label:i({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString()},o.links.map(l=>l.links?t.createElement(zn,{key:l.name,label:je()(l.title)},l.links.map(d=>t.createElement(za.E,{as:y.NavLink,to:d.to,active:d.active,key:d.name,isSubSectionChild:!0},je()(i({id:d.name,defaultMessage:d.title}))))):t.createElement(za.E,{as:y.NavLink,to:l.to,active:l.active,key:l.name},je()(i({id:l.name,defaultMessage:l.title}))))),o.customLink&&t.createElement(w.x,{paddingLeft:7},t.createElement(Vs.A,{onClick:o.customLink.onClick,startIcon:t.createElement(ve.default,null),marginTop:2},i({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})))))))},ka=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),to=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=e({id:`${B.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:a}=(0,g.useGuidedTour)(),i=(0,t.useRef)(a);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(g.CheckPagePermissions,{permissions:C.Z.main},t.createElement(S.Helmet,{title:n}),t.createElement(Is,null,t.createElement(Ds,null,t.createElement(j.A,{sideNav:t.createElement(eo,null)},t.createElement(t.Suspense,{fallback:t.createElement(g.LoadingIndicatorPage,null)},t.createElement(y.Switch,null,t.createElement(y.Route,{path:`/plugins/${B.Z}/content-types/create-content-type`,component:ka}),t.createElement(y.Route,{path:`/plugins/${B.Z}/content-types/:uid`,component:ka}),t.createElement(y.Route,{path:`/plugins/${B.Z}/component-categories/:categoryUid`,component:Bs})))))))}},5002:(W,q,s)=>{"use strict";s.d(q,{Z:()=>S});var t=s(96124);const S=v=>`${t.Z}.${v}`},89881:(W,q,s)=>{var t=s(47816),y=s(99291),S=y(t);W.exports=S},23933:(W,q,s)=>{var t=s(44239),y=s(37005),S="[object RegExp]";function v(g){return y(g)&&t(g)==S}W.exports=v},69199:(W,q,s)=>{var t=s(89881),y=s(98612);function S(v,g){var j=-1,C=y(v)?Array(v.length):[];return t(v,function(B,N,r){C[++j]=g(B,N,r)}),C}W.exports=S},82689:(W,q,s)=>{var t=s(29932),y=s(97786),S=s(67206),v=s(69199),g=s(71131),j=s(7518),C=s(85022),B=s(6557),N=s(1469);function r(b,O,de){O.length?O=t(O,function(Q){return N(Q)?function(se){return y(se,Q.length===1?Q[0]:Q)}:Q}):O=[B];var ie=-1;O=t(O,j(S));var ae=v(b,function(Q,se,oe){var ge=t(O,function(u){return u(Q)});return{criteria:ge,index:++ie,value:Q}});return g(ae,function(Q,se){return C(Q,se,de)})}W.exports=r},71131:W=>{function q(s,t){var y=s.length;for(s.sort(t);y--;)s[y]=s[y].value;return s}W.exports=q},26393:(W,q,s)=>{var t=s(33448);function y(S,v){if(S!==v){var g=S!==void 0,j=S===null,C=S===S,B=t(S),N=v!==void 0,r=v===null,b=v===v,O=t(v);if(!r&&!O&&!B&&S>v||B&&N&&b&&!r&&!O||j&&N&&b||!g&&b||!C)return 1;if(!j&&!B&&!O&&S<v||O&&g&&C&&!j&&!B||r&&g&&C||!N&&C||!b)return-1}return 0}W.exports=y},85022:(W,q,s)=>{var t=s(26393);function y(S,v,g){for(var j=-1,C=S.criteria,B=v.criteria,N=C.length,r=g.length;++j<N;){var b=t(C[j],B[j]);if(b){if(j>=r)return b;var O=g[j];return b*(O=="desc"?-1:1)}}return S.index-v.index}W.exports=y},99291:(W,q,s)=>{var t=s(98612);function y(S,v){return function(g,j){if(g==null)return g;if(!t(g))return S(g,j);for(var C=g.length,B=v?C:-1,N=Object(g);(v?B--:++B<C)&&j(N[B],B,N)!==!1;);return g}}W.exports=y},96347:(W,q,s)=>{var t=s(23933),y=s(7518),S=s(31167),v=S&&S.isRegExp,g=v?y(v):t;W.exports=g},89734:(W,q,s)=>{var t=s(21078),y=s(82689),S=s(18460),v=s(16612),g=S(function(j,C){if(j==null)return[];var B=C.length;return B>1&&v(j,C[0],C[1])?C=[]:B>2&&v(C[0],C[1],C[2])&&(C=[C[0]]),y(j,t(C,1),[])});W.exports=g},7334:(W,q,s)=>{var t=s(79833);function y(S){return t(S).toLowerCase()}W.exports=y},39138:(W,q,s)=>{var t=s(80531),y=s(40180),S=s(62689),v=s(13218),g=s(96347),j=s(88016),C=s(83140),B=s(40554),N=s(79833),r=30,b="...",O=/\w*$/;function de(ie,ae){var Q=r,se=b;if(v(ae)){var oe="separator"in ae?ae.separator:oe;Q="length"in ae?B(ae.length):Q,se="omission"in ae?t(ae.omission):se}ie=N(ie);var ge=ie.length;if(S(ie)){var u=C(ie);ge=u.length}if(Q>=ge)return ie;var ue=Q-j(se);if(ue<1)return se;var ce=u?y(u,0,ue).join(""):ie.slice(0,ue);if(oe===void 0)return ce+se;if(u&&(ue+=ce.length-ue),g(oe)){if(ie.slice(ue).search(oe)){var k,Qe=ce;for(oe.global||(oe=RegExp(oe.source,N(O.exec(oe))+"g")),oe.lastIndex=0;k=oe.exec(Qe);)var _e=k.index;ce=ce.slice(0,_e===void 0?ue:_e)}}else if(ie.indexOf(t(oe),ue)!=ue){var Ke=ce.lastIndexOf(oe);Ke>-1&&(ce=ce.slice(0,Ke))}return ce+se}W.exports=de},44908:(W,q,s)=>{var t=s(45652);function y(S){return S&&S.length?t(S):[]}W.exports=y},2407:(W,q,s)=>{"use strict";s.d(q,{$:()=>N,O:()=>r});var t=s(85893),y=s(71893),S=s(41363),v=s(75515),g=s(41580),j=s(11047),C=s(63237);const B=(0,y.default)(j.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:b})=>b.colors.neutral500};
    }
  }
  :last-of-type ${g.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:b})=>b.colors.neutral800};
    font-weight: ${({theme:b})=>b.fontWeights.bold};
  }
`,N=({children:b})=>(0,t.jsxs)(B,{inline:!0,as:"li",children:[(0,t.jsx)(v.Z,{variant:"pi",textColor:"neutral600",children:b}),(0,t.jsx)(g.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,t.jsx)(S.ChevronRight,{})})]});N.displayName="Crumb";const r=({children:b,label:O,...de})=>(0,t.jsxs)(j.k,{...de,children:[(0,t.jsx)(C.T,{children:O}),(0,t.jsx)("ol",{"aria-hidden":!0,children:b})]});r.displayName="Breadcrumbs"},38855:(W,q,s)=>{"use strict";s.d(q,{h:()=>Ve,X:()=>Re});var t=s(67294),y=s(45697),S=s(41363),v=s(14085),g=s(70389),j=s(7801);const C={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},B={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function N(K=[],w=null,X=[]){const Oe=String(w??"").toLowerCase();return Oe?K.filter(Me=>Me.props.children.toString().toLowerCase().includes(Oe)&&X.indexOf(Me)<0):K}function r(K,w){if(!w&&K===j.y.DOWN)return C.Open;if(K===j.y.DOWN)return C.Next;if(K===j.y.UP)return C.Previous;if(K===j.y.HOME)return C.First;if(K===j.y.END)return C.Last;if(K===j.y.ESCAPE)return C.Close;if(K===j.y.ENTER)return C.CloseSelect;if(K===j.y.BACKSPACE||K===j.y.CLEAR||K.length===1)return C.Type}function b(K,w,X){switch(X){case C.First:return 0;case C.Last:return w;case C.Previous:return Math.max(0,K-1);case C.Next:return Math.min(w,K+1);default:return K}}function O(K){(0,g.Z)(K,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:w,top:X,left:Oe})=>{w.scrollTop=X,w.scrollLeft=Oe})}var de=s(11047),ie=s(81318),ae=s(88533),Q=s(41580),se=s(75515),oe=s(88655),ge=s(74020),u=s(90608),ue=s(54574),ce=s(64777),k=s(63428),Qe=s(96404),_e=s(7681),Ke=s(63237);const Ve=({children:K,clearLabel:w,creatable:X,createMessage:Oe,disabled:Me,error:st,hasMoreItems:Yt,hint:pt,id:et,label:Ie,labelAction:Ce,loading:Ae,loadingMessage:He,noOptionsMessage:$t,onChange:It,onClear:je,onCreateOption:Jt,onInputChange:gt,onLoadMore:Qt,placeholder:be,required:_t,value:we,...At})=>{const ft=()=>K.find(_=>_.props?.value.toLowerCase()===we.toLowerCase()).props?.children,[Ze,ot]=(0,t.useState)(0),[Be,Xn]=(0,t.useState)(null),[De,yt]=(0,t.useState)(K),[Ye,Yn]=(0,t.useState)(!1),[Se,it]=(0,t.useState)(""),lt=(0,t.useRef)(),ht=(0,t.useRef)(!1),dt=(0,t.useRef)(),jt=(0,t.useRef)(),en=(0,t.useRef)(),bt=(0,t.useRef)(!0),ve=(0,v.M)(et),tn=`${ve}-label`;if(!Ie&&!At["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,t.useEffect)(()=>{yt(N(K,Se))},[Se,K]),(0,t.useEffect)(()=>{Ye&&lt.current&&O(lt.current)},[Ze,Ye]),(0,t.useLayoutEffect)(()=>{bt.current&&(bt.current=!1)},[we]);const nn=Ye?`${ve}-${Ze}`:"",Bt=()=>{It(null),it("")},Jn=_=>{gt&&gt(_);const fe=dt.current.value;yt(N(K,fe)),ot(0),Xn(null),Se!==fe&&it(fe),Ye||Ge(!0,!1)},an=_=>{const{key:fe}=_,qe=X&&Se?De.length:De.length-1,ct=r(fe,Ye);switch(we&&!Se&&fe===j.y.BACKSPACE&&Bt(),ct){case C.Next:{if(Ze===qe){Je(0);break}Je(b(Ze,qe,ct));break}case C.Previous:{if(Ze===0){Je(qe);break}Je(b(Ze,qe,ct));break}case C.Last:case C.First:{if(Ze===qe){Je(0);break}Je(b(Ze,qe,ct));break}case C.CloseSelect:_.preventDefault(),vt(Ze);break;case C.Close:_.preventDefault(),Ge(!1);break;case C.Open:Ge(!0);break}},zt=_=>{if(_.preventDefault(),we&&!ht.current&&it(""),ht.current){ht.current=!1;return}Ge(!1,!1)},Je=_=>{ot(_)},Qn=_=>{Je(_),vt(_)},Ut=()=>{ht.current=!0},vt=_=>{const fe=De[_];if(it(""),fe){It(fe.props.value),Ge(!1);return}X&&(Jt(Se),Ge(!1))},Ge=(_,fe=!0)=>{Yn(_),fe&&dt.current.focus()},rn=t.Children.toArray(De).map((_,fe)=>{const qe=Ze===fe;return(0,t.cloneElement)(_,{id:`${ve}-${fe}`,"aria-selected":Be===fe,"aria-posinset":fe+1,"aria-setsize":t.Children.toArray(De).length,ref(ct){qe&&(lt.current=ct)},onClick:()=>Qn(fe),onMouseDown:Ut,isSelected:qe})}),Zt=()=>{dt.current.focus(),je&&je(),Bt()},sn=()=>{dt.current.focus(),Ge(!0)},St=()=>{const _=De.findIndex(fe=>fe.props?.children===Se);return Se&&_===-1},kt=_=>{_.preventDefault(),Ge(_,!0)};let ut;return st?ut=`${ve}-error`:pt&&(ut=`${ve}-hint`),t.createElement(ue.g,{hint:pt,error:st,id:ve,required:_t},t.createElement(Ke.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},we),t.createElement(_e.K,{spacing:Ie||pt||st?1:0},Ie&&t.createElement(ce.Q,{action:Ce},Ie),t.createElement(ge.d8,{ref:jt,$disabled:Me,hasError:st},t.createElement(ge.fv,{wrap:"wrap"},!Se&&we&&t.createElement(ge.K7,{id:`${ve}-selected-value`},t.createElement(se.Z,null,ft())),t.createElement(ge.II,{"aria-activedescendant":nn,"aria-autocomplete":"list","aria-controls":`${ve}-listbox`,"aria-disabled":Me,"aria-expanded":Ye,"aria-haspopup":"listbox","aria-describedby":ut,autoComplete:"off",autoCorrect:"off",id:ve,onBlur:Me?void 0:zt,onClick:Me?void 0:kt,onInput:Me?void 0:Jn,onKeyDown:Me?void 0:an,placeholder:we?"":be,readOnly:Me,ref:dt,required:_t,role:"combobox",spellCheck:"off",type:"text",value:Se})),t.createElement(de.k,null,(we||Se)&&t.createElement(ie.zb,{id:`${ve}-clear`,"aria-label":w,disabled:Me,paddingLeft:3,as:"button",onClick:Zt,type:"button"},t.createElement(S.Cross,null)),t.createElement(ie.AV,{disabled:Me,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:sn,tabIndex:-1,type:"button"},t.createElement(S.CarretDown,null)))),t.createElement(k.J,null),t.createElement(Qe.c,null)),Ye&&t.createElement(ae.J2,{id:`${ve}-popover`,source:jt,spacing:4,fullWidth:!0,intersectionId:`${ve}-listbox-popover-intersection`,onReachEnd:Yt&&!Ae?Qt:void 0},t.createElement("div",{role:"listbox",ref:en,id:`${ve}-listbox`,"aria-labelledby":Ie?tn:void 0},(Boolean(De.length)||X)&&t.createElement(t.Fragment,null,rn,St()&&X&&t.createElement(u.O,{isSelected:Ze===De.length,ref:_=>{Ze===De.length&&(lt.current=_)},onMouseDown:Ut,onClick:()=>vt(),taindex:0},Oe(Se))),!De.length&&!X&&!Ae&&t.createElement(Q.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:lt},t.createElement(se.Z,{textColor:"neutral800"},$t(Se))),Ae&&t.createElement(de.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},t.createElement(oe.a,{small:!0},He)))))},Re=K=>t.createElement(Ve,{...K,creatable:!0});Ve.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:K=>`Create "${K}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},Re.defaultProps=Ve.defaultProps,Ve.propTypes={"aria-label":y.string,children:y.oneOfType([y.arrayOf(y.node),y.node]),clearLabel:y.string,creatable:y.bool,createMessage:y.func,disabled:y.bool,error:y.string,hasMoreItems:y.bool,id:y.string,hint:y.oneOfType([y.string,y.node,y.arrayOf(y.node)]),label:y.string,labelAction:y.element,loading:y.bool,loadingMessage:y.string,noOptionsMessage:y.func,onChange:y.func.isRequired,onClear:y.func,onCreateOption:y.func,onInputChange:y.func,onLoadMore:y.func,placeholder:y.string,value:y.string},Re.propTypes={...Ve.propTypes,onCreateOption:y.func.isRequired}},90608:(W,q,s)=>{"use strict";s.d(q,{O:()=>g});var t=s(67294),y=s(45697),S=s(75515),v=s(74020);const g=(0,t.forwardRef)(({isSelected:j,children:C,...B},N)=>t.createElement(v.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:j,ref:N,...B},t.createElement(S.Z,{textColor:j?"primary600":"neutral800",fontWeight:j?"bold":null},C)));g.defaultProps={isSelected:!1},g.propTypes={children:y.oneOfType([y.string,y.number]).isRequired,isSelected:y.bool},g.displayName="ComboboxOption"},74020:(W,q,s)=>{"use strict";s.d(q,{II:()=>B,K7:()=>j,Zq:()=>N,d8:()=>g,fv:()=>C});var t=s(71893),y=s(41580),S=s(11047),v=s(15585);const g=(0,t.default)(S.k)`
  position: relative;
  border: 1px solid ${({theme:r,hasError:b})=>b?r.colors.danger600:r.colors.neutral200};
  padding-right: ${({theme:r})=>r.spaces[3]};
  padding-left: ${({theme:r})=>r.spaces[3]};
  border-radius: ${({theme:r})=>r.borderRadius};
  background: ${({theme:r})=>r.colors.neutral0};

  ${({theme:r,$disabled:b})=>b?`
    color: ${r.colors.neutral600};
    background: ${r.colors.neutral150};
  `:void 0}

  ${(0,v.k3)()}
`,j=t.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,C=(0,t.default)(S.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,B=t.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:r})=>r.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,N=(0,t.default)(y.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:r,theme:b})=>r&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:r})=>r.colors.primary100};
  }
`},32064:(W,q,s)=>{"use strict";s.d(q,{Q:()=>b});var t=s(67294),y=s(49656),S=s(71893),v=s(45697),g=s(75515),j=s(41580),C=s(92577),B=s(78474),N=s(21817);const r=(0,S.default)(N.G)`
  padding: ${({theme:O,size:de})=>`${de==="S"?O.spaces[2]:"10px"} ${O.spaces[4]}`};
  background: ${({theme:O})=>O.colors.buttonPrimary600};
  border: 1px solid ${({theme:O})=>O.colors.buttonPrimary600};
  border-radius: ${({theme:O})=>O.borderRadius};
  ${j.x} {
    display: flex;
    align-items: center;
  }
  ${g.Z} {
    color: ${({theme:O})=>O.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${C.sg}
    &:active {
      ${C.sg}
    }
  }
  &:hover {
    ${C.yP}
  }
  &:active {
    ${C.tB}
  }
  ${C.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:O})=>O?"none":void 0};
`,b=t.forwardRef(({variant:O,startIcon:de,endIcon:ie,disabled:ae,children:Q,size:se,href:oe,to:ge,...u},ue)=>{const ce=oe?"_blank":void 0,k=oe?"noreferrer noopener":void 0;return t.createElement(r,{ref:ue,"aria-disabled":ae,size:se,variant:O,target:ce,rel:k,to:ae?void 0:ge,href:ae?"#":oe,...u,as:ge&&!ae?y.NavLink:"a"},de&&t.createElement(j.x,{"aria-hidden":!0,paddingRight:2},de),se==="S"?t.createElement(g.Z,{variant:"pi",fontWeight:"bold"},Q):t.createElement(g.Z,{fontWeight:"bold"},Q),ie&&t.createElement(j.x,{"aria-hidden":!0,paddingLeft:2},ie))});b.displayName="LinkButton",b.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},b.propTypes={children:v.node.isRequired,disabled:v.bool,endIcon:v.element,href(O){if(!O.disabled&&!O.to&&!O.href)return new Error("href must be defined")},onClick:v.func,size:v.oneOf(B.Gt),startIcon:v.element,to(O){if(!O.disabled&&!O.href&&!O.to)return new Error("to must be defined")},variant:v.oneOf(B.ZC)}},39785:(W,q,s)=>{"use strict";s.d(q,{A:()=>O});var t=s(85893),y=s(67294),S=s(71893),v=s(41363),g=s(41580),j=s(75515),C=s(11047),B=s(15585);const N=S.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,r=S.default.div`
  animation: ${N} 2s infinite linear;
  will-change: transform;
`,b=(0,S.default)(C.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:de})=>de.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:de})=>de.colors.primary600};
  }

  ${B.BF}
`,O=y.forwardRef(({children:de,startIcon:ie,endIcon:ae,onClick:Q,disabled:se=!1,loading:oe=!1,...ge},u)=>{const ue=Q&&!se?Q:void 0,ce=se||oe;return(0,t.jsxs)(b,{ref:u,"aria-disabled":ce,onClick:ue,as:"button",type:"button",...ge,children:[(ie||oe)&&(0,t.jsx)(g.x,{as:"span",paddingRight:2,"aria-hidden":!0,children:oe?(0,t.jsx)(r,{children:(0,t.jsx)(v.Loader,{})}):ie}),(0,t.jsx)(j.Z,{variant:"pi",textColor:ce?"neutral600":"primary600",children:de}),ae&&(0,t.jsx)(g.x,{as:"span",paddingLeft:2,"aria-hidden":!0,children:ae})]})});O.displayName="TextButton"}}]);
